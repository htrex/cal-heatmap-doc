!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("d3-selection"),require("d3-color"),require("d3"),require("d3-fetch")):"function"==typeof define&&define.amd?define(["d3-selection","d3-color","d3","d3-fetch"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).CalHeatmap=e(t.d3,t.d3,t.d3,t.d3)}(this,(function(t,e,n,r){"use strict";function i(){i=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),u=new _(i||[]);return r(a,"_invoke",{value:O(t,n,u)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function p(){}function v(){}var y={};s(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(M([])));g&&g!==e&&n.call(g,a)&&(y=g);var b=v.prototype=d.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function i(r,o,a,u){var c=f(t[r],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,a,u)}),(function(t){i("throw",t,a,u)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return i("throw",t,a,u)}))}u(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function O(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=S(a,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function S(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=f(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,h;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,c,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(x.prototype),s(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,c,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=M,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){s=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw i}}return u}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v=function(t){return t&&t.Math==Math&&t},y=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof p&&p)||function(){return this}()||Function("return this")(),m={},g={get exports(){return m},set exports(t){m=t}},b=y,w=Object.defineProperty,x=function(t,e){try{w(b,t,{value:e,configurable:!0,writable:!0})}catch(n){b[t]=e}return e},O=x,S="__core-js_shared__",k=y[S]||O(S,{}),j=k;(g.exports=function(t,e){return j[t]||(j[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.27.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.2/LICENSE",source:"https://github.com/zloirock/core-js"});var _,M,D=function(t){try{return!!t()}catch(t){return!0}},E=!D((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),L=E,$=Function.prototype,P=$.call,A=L&&$.bind.bind(P,P),T=L?A:function(t){return function(){return P.apply(t,arguments)}},R=function(t){return null==t},C=R,I=TypeError,N=function(t){if(C(t))throw I("Can't call method on "+t);return t},z=N,Y=Object,W=function(t){return Y(z(t))},F=W,B=T({}.hasOwnProperty),H=Object.hasOwn||function(t,e){return B(F(t),e)},G=T,U=0,q=Math.random(),V=G(1..toString),K=function(t){return"Symbol("+(void 0===t?"":t)+")_"+V(++U+q,36)},Z="undefined"!=typeof navigator&&String(navigator.userAgent)||"",J=y,X=Z,Q=J.process,tt=J.Deno,et=Q&&Q.versions||tt&&tt.version,nt=et&&et.v8;nt&&(M=(_=nt.split("."))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!M&&X&&(!(_=X.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=X.match(/Chrome\/(\d+)/))&&(M=+_[1]);var rt=M,it=rt,ot=D,at=!!Object.getOwnPropertySymbols&&!ot((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&it&&it<41})),ut=at&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ct=m,st=H,lt=K,ft=at,ht=ut,dt=y.Symbol,pt=ct("wks"),vt=ht?dt.for||dt:dt&&dt.withoutSetter||lt,yt=function(t){return st(pt,t)||(pt[t]=ft&&st(dt,t)?dt[t]:vt("Symbol."+t)),pt[t]},mt={};mt[yt("toStringTag")]="z";var gt="[object z]"===String(mt),bt="object"==typeof document&&document.all,wt={all:bt,IS_HTMLDDA:void 0===bt&&void 0!==bt},xt=wt.all,Ot=wt.IS_HTMLDDA?function(t){return"function"==typeof t||t===xt}:function(t){return"function"==typeof t},St={},kt=!D((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),jt=Ot,_t=wt.all,Mt=wt.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:jt(t)||t===_t}:function(t){return"object"==typeof t?null!==t:jt(t)},Dt=Mt,Et=y.document,Lt=Dt(Et)&&Dt(Et.createElement),$t=function(t){return Lt?Et.createElement(t):{}},Pt=$t,At=!kt&&!D((function(){return 7!=Object.defineProperty(Pt("div"),"a",{get:function(){return 7}}).a})),Tt=kt&&D((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Rt=Mt,Ct=String,It=TypeError,Nt=function(t){if(Rt(t))return t;throw It(Ct(t)+" is not an object")},zt=E,Yt=Function.prototype.call,Wt=zt?Yt.bind(Yt):function(){return Yt.apply(Yt,arguments)},Ft=y,Bt=Ot,Ht=function(t){return Bt(t)?t:void 0},Gt=function(t,e){return arguments.length<2?Ht(Ft[t]):Ft[t]&&Ft[t][e]},Ut=T({}.isPrototypeOf),qt=Gt,Vt=Ot,Kt=Ut,Zt=Object,Jt=ut?function(t){return"symbol"==typeof t}:function(t){var e=qt("Symbol");return Vt(e)&&Kt(e.prototype,Zt(t))},Xt=String,Qt=function(t){try{return Xt(t)}catch(t){return"Object"}},te=Ot,ee=Qt,ne=TypeError,re=function(t){if(te(t))return t;throw ne(ee(t)+" is not a function")},ie=re,oe=R,ae=function(t,e){var n=t[e];return oe(n)?void 0:ie(n)},ue=Wt,ce=Ot,se=Mt,le=TypeError,fe=Wt,he=Mt,de=Jt,pe=ae,ve=function(t,e){var n,r;if("string"===e&&ce(n=t.toString)&&!se(r=ue(n,t)))return r;if(ce(n=t.valueOf)&&!se(r=ue(n,t)))return r;if("string"!==e&&ce(n=t.toString)&&!se(r=ue(n,t)))return r;throw le("Can't convert object to primitive value")},ye=TypeError,me=yt("toPrimitive"),ge=function(t,e){if(!he(t)||de(t))return t;var n,r=pe(t,me);if(r){if(void 0===e&&(e="default"),n=fe(r,t,e),!he(n)||de(n))return n;throw ye("Can't convert object to primitive value")}return void 0===e&&(e="number"),ve(t,e)},be=Jt,we=function(t){var e=ge(t,"string");return be(e)?e:e+""},xe=kt,Oe=At,Se=Tt,ke=Nt,je=we,_e=TypeError,Me=Object.defineProperty,De=Object.getOwnPropertyDescriptor,Ee="enumerable",Le="configurable",$e="writable";St.f=xe?Se?function(t,e,n){if(ke(t),e=je(e),ke(n),"function"==typeof t&&"prototype"===e&&"value"in n&&$e in n&&!n[$e]){var r=De(t,e);r&&r[$e]&&(t[e]=n.value,n={configurable:Le in n?n[Le]:r[Le],enumerable:Ee in n?n[Ee]:r[Ee],writable:!1})}return Me(t,e,n)}:Me:function(t,e,n){if(ke(t),e=je(e),ke(n),Oe)try{return Me(t,e,n)}catch(t){}if("get"in n||"set"in n)throw _e("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var Pe={},Ae={get exports(){return Pe},set exports(t){Pe=t}},Te=kt,Re=H,Ce=Function.prototype,Ie=Te&&Object.getOwnPropertyDescriptor,Ne=Re(Ce,"name"),ze={EXISTS:Ne,PROPER:Ne&&"something"===function(){}.name,CONFIGURABLE:Ne&&(!Te||Te&&Ie(Ce,"name").configurable)},Ye=Ot,We=k,Fe=T(Function.toString);Ye(We.inspectSource)||(We.inspectSource=function(t){return Fe(t)});var Be,He,Ge,Ue=We.inspectSource,qe=Ot,Ve=y.WeakMap,Ke=qe(Ve)&&/native code/.test(String(Ve)),Ze=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Je=St,Xe=Ze,Qe=kt?function(t,e,n){return Je.f(t,e,Xe(1,n))}:function(t,e,n){return t[e]=n,t},tn=K,en=m("keys"),nn=function(t){return en[t]||(en[t]=tn(t))},rn={},on=Ke,an=y,un=Mt,cn=Qe,sn=H,ln=k,fn=nn,hn=rn,dn="Object already initialized",pn=an.TypeError,vn=an.WeakMap;if(on||ln.state){var yn=ln.state||(ln.state=new vn);yn.get=yn.get,yn.has=yn.has,yn.set=yn.set,Be=function(t,e){if(yn.has(t))throw pn(dn);return e.facade=t,yn.set(t,e),e},He=function(t){return yn.get(t)||{}},Ge=function(t){return yn.has(t)}}else{var mn=fn("state");hn[mn]=!0,Be=function(t,e){if(sn(t,mn))throw pn(dn);return e.facade=t,cn(t,mn,e),e},He=function(t){return sn(t,mn)?t[mn]:{}},Ge=function(t){return sn(t,mn)}}var gn={set:Be,get:He,has:Ge,enforce:function(t){return Ge(t)?He(t):Be(t,{})},getterFor:function(t){return function(e){var n;if(!un(e)||(n=He(e)).type!==t)throw pn("Incompatible receiver, "+t+" required");return n}}},bn=T,wn=D,xn=Ot,On=H,Sn=kt,kn=ze.CONFIGURABLE,jn=Ue,_n=gn.enforce,Mn=gn.get,Dn=String,En=Object.defineProperty,Ln=bn("".slice),$n=bn("".replace),Pn=bn([].join),An=Sn&&!wn((function(){return 8!==En((function(){}),"length",{value:8}).length})),Tn=String(String).split("String"),Rn=Ae.exports=function(t,e,n){"Symbol("===Ln(Dn(e),0,7)&&(e="["+$n(Dn(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!On(t,"name")||kn&&t.name!==e)&&(Sn?En(t,"name",{value:e,configurable:!0}):t.name=e),An&&n&&On(n,"arity")&&t.length!==n.arity&&En(t,"length",{value:n.arity});try{n&&On(n,"constructor")&&n.constructor?Sn&&En(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=_n(t);return On(r,"source")||(r.source=Pn(Tn,"string"==typeof e?e:"")),t};Function.prototype.toString=Rn((function(){return xn(this)&&Mn(this).source||jn(this)}),"toString");var Cn=Ot,In=St,Nn=Pe,zn=x,Yn=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(Cn(n)&&Nn(n,o,r),r.global)i?t[e]=n:zn(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:In.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},Wn=T,Fn=Wn({}.toString),Bn=Wn("".slice),Hn=function(t){return Bn(Fn(t),8,-1)},Gn=gt,Un=Ot,qn=Hn,Vn=yt("toStringTag"),Kn=Object,Zn="Arguments"==qn(function(){return arguments}()),Jn=Gn?qn:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Kn(t),Vn))?n:Zn?qn(e):"Object"==(r=qn(e))&&Un(e.callee)?"Arguments":r},Xn=Jn,Qn=gt?{}.toString:function(){return"[object "+Xn(this)+"]"};gt||Yn(Object.prototype,"toString",Qn,{unsafe:!0});var tr={},er={},nr={}.propertyIsEnumerable,rr=Object.getOwnPropertyDescriptor,ir=rr&&!nr.call({1:2},1);er.f=ir?function(t){var e=rr(this,t);return!!e&&e.enumerable}:nr;var or=D,ar=Hn,ur=Object,cr=T("".split),sr=or((function(){return!ur("z").propertyIsEnumerable(0)}))?function(t){return"String"==ar(t)?cr(t,""):ur(t)}:ur,lr=sr,fr=N,hr=function(t){return lr(fr(t))},dr=kt,pr=Wt,vr=er,yr=Ze,mr=hr,gr=we,br=H,wr=At,xr=Object.getOwnPropertyDescriptor;tr.f=dr?xr:function(t,e){if(t=mr(t),e=gr(e),wr)try{return xr(t,e)}catch(t){}if(br(t,e))return yr(!pr(vr.f,t,e),t[e])};var Or={},Sr=Math.ceil,kr=Math.floor,jr=Math.trunc||function(t){var e=+t;return(e>0?kr:Sr)(e)},_r=function(t){var e=+t;return e!=e||0===e?0:jr(e)},Mr=_r,Dr=Math.max,Er=Math.min,Lr=function(t,e){var n=Mr(t);return n<0?Dr(n+e,0):Er(n,e)},$r=_r,Pr=Math.min,Ar=function(t){return t>0?Pr($r(t),9007199254740991):0},Tr=Ar,Rr=function(t){return Tr(t.length)},Cr=hr,Ir=Lr,Nr=Rr,zr=function(t){return function(e,n,r){var i,o=Cr(e),a=Nr(o),u=Ir(r,a);if(t&&n!=n){for(;a>u;)if((i=o[u++])!=i)return!0}else for(;a>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}},Yr={includes:zr(!0),indexOf:zr(!1)},Wr=H,Fr=hr,Br=Yr.indexOf,Hr=rn,Gr=T([].push),Ur=function(t,e){var n,r=Fr(t),i=0,o=[];for(n in r)!Wr(Hr,n)&&Wr(r,n)&&Gr(o,n);for(;e.length>i;)Wr(r,n=e[i++])&&(~Br(o,n)||Gr(o,n));return o},qr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vr=Ur,Kr=qr.concat("length","prototype");Or.f=Object.getOwnPropertyNames||function(t){return Vr(t,Kr)};var Zr={};Zr.f=Object.getOwnPropertySymbols;var Jr=Gt,Xr=Or,Qr=Zr,ti=Nt,ei=T([].concat),ni=Jr("Reflect","ownKeys")||function(t){var e=Xr.f(ti(t)),n=Qr.f;return n?ei(e,n(t)):e},ri=H,ii=ni,oi=tr,ai=St,ui=D,ci=Ot,si=/#|\.prototype\./,li=function(t,e){var n=hi[fi(t)];return n==pi||n!=di&&(ci(e)?ui(e):!!e)},fi=li.normalize=function(t){return String(t).replace(si,".").toLowerCase()},hi=li.data={},di=li.NATIVE="N",pi=li.POLYFILL="P",vi=li,yi=y,mi=tr.f,gi=Qe,bi=Yn,wi=x,xi=function(t,e,n){for(var r=ii(e),i=ai.f,o=oi.f,a=0;a<r.length;a++){var u=r[a];ri(t,u)||n&&ri(n,u)||i(t,u,o(e,u))}},Oi=vi,Si=function(t,e){var n,r,i,o,a,u=t.target,c=t.global,s=t.stat;if(n=c?yi:s?yi[u]||wi(u,{}):(yi[u]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(a=mi(n,r))&&a.value:n[r],!Oi(c?r:u+(s?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;xi(o,i)}(t.sham||i&&i.sham)&&gi(o,"sham",!0),bi(n,r,o,t)}},ki="undefined"!=typeof process&&"process"==Hn(process),ji=Ot,_i=String,Mi=TypeError,Di=T,Ei=Nt,Li=function(t){if("object"==typeof t||ji(t))return t;throw Mi("Can't set "+_i(t)+" as a prototype")},$i=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Di(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Ei(n),Li(r),e?t(n,r):n.__proto__=r,n}}():void 0),Pi=St.f,Ai=H,Ti=yt("toStringTag"),Ri=function(t,e,n){t&&!n&&(t=t.prototype),t&&!Ai(t,Ti)&&Pi(t,Ti,{configurable:!0,value:e})},Ci=Gt,Ii=St,Ni=kt,zi=yt("species"),Yi=function(t){var e=Ci(t),n=Ii.f;Ni&&e&&!e[zi]&&n(e,zi,{configurable:!0,get:function(){return this}})},Wi=Ut,Fi=TypeError,Bi=function(t,e){if(Wi(e,t))return t;throw Fi("Incorrect invocation")},Hi=T,Gi=D,Ui=Ot,qi=Jn,Vi=Ue,Ki=function(){},Zi=[],Ji=Gt("Reflect","construct"),Xi=/^\s*(?:class|function)\b/,Qi=Hi(Xi.exec),to=!Xi.exec(Ki),eo=function(t){if(!Ui(t))return!1;try{return Ji(Ki,Zi,t),!0}catch(t){return!1}},no=function(t){if(!Ui(t))return!1;switch(qi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return to||!!Qi(Xi,Vi(t))}catch(t){return!0}};no.sham=!0;var ro,io,oo,ao,uo=!Ji||Gi((function(){var t;return eo(eo.call)||!eo(Object)||!eo((function(){t=!0}))||t}))?no:eo,co=uo,so=Qt,lo=TypeError,fo=Nt,ho=function(t){if(co(t))return t;throw lo(so(t)+" is not a constructor")},po=R,vo=yt("species"),yo=function(t,e){var n,r=fo(t).constructor;return void 0===r||po(n=fo(r)[vo])?e:ho(n)},mo=E,go=Function.prototype,bo=go.apply,wo=go.call,xo="object"==typeof Reflect&&Reflect.apply||(mo?wo.bind(bo):function(){return wo.apply(bo,arguments)}),Oo=Hn,So=T,ko=function(t){if("Function"===Oo(t))return So(t)},jo=re,_o=E,Mo=ko(ko.bind),Do=function(t,e){return jo(t),void 0===e?t:_o?Mo(t,e):function(){return t.apply(e,arguments)}},Eo=Gt("document","documentElement"),Lo=T([].slice),$o=TypeError,Po=/(?:ipad|iphone|ipod).*applewebkit/i.test(Z),Ao=y,To=xo,Ro=Do,Co=Ot,Io=H,No=D,zo=Eo,Yo=Lo,Wo=$t,Fo=function(t,e){if(t<e)throw $o("Not enough arguments");return t},Bo=Po,Ho=ki,Go=Ao.setImmediate,Uo=Ao.clearImmediate,qo=Ao.process,Vo=Ao.Dispatch,Ko=Ao.Function,Zo=Ao.MessageChannel,Jo=Ao.String,Xo=0,Qo={},ta="onreadystatechange";No((function(){ro=Ao.location}));var ea=function(t){if(Io(Qo,t)){var e=Qo[t];delete Qo[t],e()}},na=function(t){return function(){ea(t)}},ra=function(t){ea(t.data)},ia=function(t){Ao.postMessage(Jo(t),ro.protocol+"//"+ro.host)};Go&&Uo||(Go=function(t){Fo(arguments.length,1);var e=Co(t)?t:Ko(t),n=Yo(arguments,1);return Qo[++Xo]=function(){To(e,void 0,n)},io(Xo),Xo},Uo=function(t){delete Qo[t]},Ho?io=function(t){qo.nextTick(na(t))}:Vo&&Vo.now?io=function(t){Vo.now(na(t))}:Zo&&!Bo?(ao=(oo=new Zo).port2,oo.port1.onmessage=ra,io=Ro(ao.postMessage,ao)):Ao.addEventListener&&Co(Ao.postMessage)&&!Ao.importScripts&&ro&&"file:"!==ro.protocol&&!No(ia)?(io=ia,Ao.addEventListener("message",ra,!1)):io=ta in Wo("script")?function(t){zo.appendChild(Wo("script"))[ta]=function(){zo.removeChild(this),ea(t)}}:function(t){setTimeout(na(t),0)});var oa={set:Go,clear:Uo},aa=function(){this.head=null,this.tail=null};aa.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var ua,ca,sa,la,fa,ha=aa,da=/ipad|iphone|ipod/i.test(Z)&&"undefined"!=typeof Pebble,pa=/web0s(?!.*chrome)/i.test(Z),va=y,ya=Do,ma=tr.f,ga=oa.set,ba=ha,wa=Po,xa=da,Oa=pa,Sa=ki,ka=va.MutationObserver||va.WebKitMutationObserver,ja=va.document,_a=va.process,Ma=va.Promise,Da=ma(va,"queueMicrotask"),Ea=Da&&Da.value;if(!Ea){var La=new ba,$a=function(){var t,e;for(Sa&&(t=_a.domain)&&t.exit();e=La.get();)try{e()}catch(t){throw La.head&&ua(),t}t&&t.enter()};wa||Sa||Oa||!ka||!ja?!xa&&Ma&&Ma.resolve?((la=Ma.resolve(void 0)).constructor=Ma,fa=ya(la.then,la),ua=function(){fa($a)}):Sa?ua=function(){_a.nextTick($a)}:(ga=ya(ga,va),ua=function(){ga($a)}):(ca=!0,sa=ja.createTextNode(""),new ka($a).observe(sa,{characterData:!0}),ua=function(){sa.data=ca=!ca}),Ea=function(t){La.head||ua(),La.add(t)}}var Pa=Ea,Aa=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ta=y.Promise,Ra="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ca=!Ra&&!ki&&"object"==typeof window&&"object"==typeof document,Ia=y,Na=Ta,za=Ot,Ya=vi,Wa=Ue,Fa=yt,Ba=Ca,Ha=Ra,Ga=rt;Na&&Na.prototype;var Ua=Fa("species"),qa=!1,Va=za(Ia.PromiseRejectionEvent),Ka=Ya("Promise",(function(){var t=Wa(Na),e=t!==String(Na);if(!e&&66===Ga)return!0;if(!Ga||Ga<51||!/native code/.test(t)){var n=new Na((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[Ua]=r,!(qa=n.then((function(){}))instanceof r))return!0}return!e&&(Ba||Ha)&&!Va})),Za={CONSTRUCTOR:Ka,REJECTION_EVENT:Va,SUBCLASSING:qa},Ja={},Xa=re,Qa=TypeError,tu=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw Qa("Bad Promise constructor");e=t,n=r})),this.resolve=Xa(e),this.reject=Xa(n)};Ja.f=function(t){return new tu(t)};var eu,nu,ru,iu=Si,ou=ki,au=y,uu=Wt,cu=Yn,su=$i,lu=Ri,fu=Yi,hu=re,du=Ot,pu=Mt,vu=Bi,yu=yo,mu=oa.set,gu=Pa,bu=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(t){}},wu=Aa,xu=ha,Ou=gn,Su=Ta,ku=Ja,ju="Promise",_u=Za.CONSTRUCTOR,Mu=Za.REJECTION_EVENT,Du=Za.SUBCLASSING,Eu=Ou.getterFor(ju),Lu=Ou.set,$u=Su&&Su.prototype,Pu=Su,Au=$u,Tu=au.TypeError,Ru=au.document,Cu=au.process,Iu=ku.f,Nu=Iu,zu=!!(Ru&&Ru.createEvent&&au.dispatchEvent),Yu="unhandledrejection",Wu=function(t){var e;return!(!pu(t)||!du(e=t.then))&&e},Fu=function(t,e){var n,r,i,o=e.value,a=1==e.state,u=a?t.ok:t.fail,c=t.resolve,s=t.reject,l=t.domain;try{u?(a||(2===e.rejection&&qu(e),e.rejection=1),!0===u?n=o:(l&&l.enter(),n=u(o),l&&(l.exit(),i=!0)),n===t.promise?s(Tu("Promise-chain cycle")):(r=Wu(n))?uu(r,n,c,s):c(n)):s(o)}catch(t){l&&!i&&l.exit(),s(t)}},Bu=function(t,e){t.notified||(t.notified=!0,gu((function(){for(var n,r=t.reactions;n=r.get();)Fu(n,t);t.notified=!1,e&&!t.rejection&&Gu(t)})))},Hu=function(t,e,n){var r,i;zu?((r=Ru.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),au.dispatchEvent(r)):r={promise:e,reason:n},!Mu&&(i=au["on"+t])?i(r):t===Yu&&bu("Unhandled promise rejection",n)},Gu=function(t){uu(mu,au,(function(){var e,n=t.facade,r=t.value;if(Uu(t)&&(e=wu((function(){ou?Cu.emit("unhandledRejection",r,n):Hu(Yu,n,r)})),t.rejection=ou||Uu(t)?2:1,e.error))throw e.value}))},Uu=function(t){return 1!==t.rejection&&!t.parent},qu=function(t){uu(mu,au,(function(){var e=t.facade;ou?Cu.emit("rejectionHandled",e):Hu("rejectionhandled",e,t.value)}))},Vu=function(t,e,n){return function(r){t(e,r,n)}},Ku=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Bu(t,!0))},Zu=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Tu("Promise can't be resolved itself");var r=Wu(e);r?gu((function(){var n={done:!1};try{uu(r,e,Vu(Zu,n,t),Vu(Ku,n,t))}catch(e){Ku(n,e,t)}})):(t.value=e,t.state=1,Bu(t,!1))}catch(e){Ku({done:!1},e,t)}}};if(_u&&(Au=(Pu=function(t){vu(this,Au),hu(t),uu(eu,this);var e=Eu(this);try{t(Vu(Zu,e),Vu(Ku,e))}catch(t){Ku(e,t)}}).prototype,(eu=function(t){Lu(this,{type:ju,done:!1,notified:!1,parent:!1,reactions:new xu,rejection:!1,state:0,value:void 0})}).prototype=cu(Au,"then",(function(t,e){var n=Eu(this),r=Iu(yu(this,Pu));return n.parent=!0,r.ok=!du(t)||t,r.fail=du(e)&&e,r.domain=ou?Cu.domain:void 0,0==n.state?n.reactions.add(r):gu((function(){Fu(r,n)})),r.promise})),nu=function(){var t=new eu,e=Eu(t);this.promise=t,this.resolve=Vu(Zu,e),this.reject=Vu(Ku,e)},ku.f=Iu=function(t){return t===Pu||undefined===t?new nu(t):Nu(t)},du(Su)&&$u!==Object.prototype)){ru=$u.then,Du||cu($u,"then",(function(t,e){var n=this;return new Pu((function(t,e){uu(ru,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete $u.constructor}catch(t){}su&&su($u,Au)}iu({global:!0,constructor:!0,wrap:!0,forced:_u},{Promise:Pu}),lu(Pu,ju,!1),fu(ju);var Ju={},Xu=Ju,Qu=yt("iterator"),tc=Array.prototype,ec=function(t){return void 0!==t&&(Xu.Array===t||tc[Qu]===t)},nc=Jn,rc=ae,ic=R,oc=Ju,ac=yt("iterator"),uc=function(t){if(!ic(t))return rc(t,ac)||rc(t,"@@iterator")||oc[nc(t)]},cc=Wt,sc=re,lc=Nt,fc=Qt,hc=uc,dc=TypeError,pc=function(t,e){var n=arguments.length<2?hc(t):e;if(sc(n))return lc(cc(n,t));throw dc(fc(t)+" is not iterable")},vc=Wt,yc=Nt,mc=ae,gc=function(t,e,n){var r,i;yc(t);try{if(!(r=mc(t,"return"))){if("throw"===e)throw n;return n}r=vc(r,t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return yc(r),n},bc=Do,wc=Wt,xc=Nt,Oc=Qt,Sc=ec,kc=Rr,jc=Ut,_c=pc,Mc=uc,Dc=gc,Ec=TypeError,Lc=function(t,e){this.stopped=t,this.result=e},$c=Lc.prototype,Pc=function(t,e,n){var r,i,o,a,u,c,s,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=bc(e,l),y=function(t){return r&&Dc(r,"normal",t),new Lc(!0,t)},m=function(t){return f?(xc(t),p?v(t[0],t[1],y):v(t[0],t[1])):p?v(t,y):v(t)};if(h)r=t.iterator;else if(d)r=t;else{if(!(i=Mc(t)))throw Ec(Oc(t)+" is not iterable");if(Sc(i)){for(o=0,a=kc(t);a>o;o++)if((u=m(t[o]))&&jc($c,u))return u;return new Lc(!1)}r=_c(t,i)}for(c=h?t.next:r.next;!(s=wc(c,r)).done;){try{u=m(s.value)}catch(t){Dc(r,"throw",t)}if("object"==typeof u&&u&&jc($c,u))return u}return new Lc(!1)},Ac=yt("iterator"),Tc=!1;try{var Rc=0,Cc={next:function(){return{done:!!Rc++}},return:function(){Tc=!0}};Cc[Ac]=function(){return this},Array.from(Cc,(function(){throw 2}))}catch(t){}var Ic=function(t,e){if(!e&&!Tc)return!1;var n=!1;try{var r={};r[Ac]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Nc=Ta,zc=Za.CONSTRUCTOR||!Ic((function(t){Nc.all(t).then(void 0,(function(){}))})),Yc=Wt,Wc=re,Fc=Ja,Bc=Aa,Hc=Pc;Si({target:"Promise",stat:!0,forced:zc},{all:function(t){var e=this,n=Fc.f(e),r=n.resolve,i=n.reject,o=Bc((function(){var n=Wc(e.resolve),o=[],a=0,u=1;Hc(t,(function(t){var c=a++,s=!1;u++,Yc(n,e,t).then((function(t){s||(s=!0,o[c]=t,--u||r(o))}),i)})),--u||r(o)}));return o.error&&i(o.value),n.promise}});var Gc=Si,Uc=Za.CONSTRUCTOR,qc=Ta,Vc=Gt,Kc=Ot,Zc=Yn,Jc=qc&&qc.prototype;if(Gc({target:"Promise",proto:!0,forced:Uc,real:!0},{catch:function(t){return this.then(void 0,t)}}),Kc(qc)){var Xc=Vc("Promise").prototype.catch;Jc.catch!==Xc&&Zc(Jc,"catch",Xc,{unsafe:!0})}var Qc=Wt,ts=re,es=Ja,ns=Aa,rs=Pc;Si({target:"Promise",stat:!0,forced:zc},{race:function(t){var e=this,n=es.f(e),r=n.reject,i=ns((function(){var i=ts(e.resolve);rs(t,(function(t){Qc(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var is=Wt,os=Ja;Si({target:"Promise",stat:!0,forced:Za.CONSTRUCTOR},{reject:function(t){var e=os.f(this);return is(e.reject,void 0,t),e.promise}});var as=Nt,us=Mt,cs=Ja,ss=Si,ls=Za.CONSTRUCTOR,fs=function(t,e){if(as(t),us(e)&&e.constructor===t)return e;var n=cs.f(t);return(0,n.resolve)(e),n.promise};Gt("Promise"),ss({target:"Promise",stat:!0,forced:ls},{resolve:function(t){return fs(this,t)}});var hs={},ds=Ur,ps=qr,vs=Object.keys||function(t){return ds(t,ps)},ys=kt,ms=Tt,gs=St,bs=Nt,ws=hr,xs=vs;hs.f=ys&&!ms?Object.defineProperties:function(t,e){bs(t);for(var n,r=ws(e),i=xs(e),o=i.length,a=0;o>a;)gs.f(t,n=i[a++],r[n]);return t};var Os,Ss=Nt,ks=hs,js=qr,_s=rn,Ms=Eo,Ds=$t,Es="prototype",Ls="script",$s=nn("IE_PROTO"),Ps=function(){},As=function(t){return"<"+Ls+">"+t+"</"+Ls+">"},Ts=function(t){t.write(As("")),t.close();var e=t.parentWindow.Object;return t=null,e},Rs=function(){try{Os=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Rs="undefined"!=typeof document?document.domain&&Os?Ts(Os):(e=Ds("iframe"),n="java"+Ls+":",e.style.display="none",Ms.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(As("document.F=Object")),t.close(),t.F):Ts(Os);for(var r=js.length;r--;)delete Rs[Es][js[r]];return Rs()};_s[$s]=!0;var Cs=Object.create||function(t,e){var n;return null!==t?(Ps[Es]=Ss(t),n=new Ps,Ps[Es]=null,n[$s]=t):n=Rs(),void 0===e?n:ks.f(n,e)},Is=yt,Ns=Cs,zs=St.f,Ys=Is("unscopables"),Ws=Array.prototype;null==Ws[Ys]&&zs(Ws,Ys,{configurable:!0,value:Ns(null)});var Fs,Bs,Hs,Gs=function(t){Ws[Ys][t]=!0},Us=!D((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),qs=H,Vs=Ot,Ks=W,Zs=Us,Js=nn("IE_PROTO"),Xs=Object,Qs=Xs.prototype,tl=Zs?Xs.getPrototypeOf:function(t){var e=Ks(t);if(qs(e,Js))return e[Js];var n=e.constructor;return Vs(n)&&e instanceof n?n.prototype:e instanceof Xs?Qs:null},el=D,nl=Ot,rl=Mt,il=tl,ol=Yn,al=yt("iterator"),ul=!1;[].keys&&("next"in(Hs=[].keys())?(Bs=il(il(Hs)))!==Object.prototype&&(Fs=Bs):ul=!0);var cl=!rl(Fs)||el((function(){var t={};return Fs[al].call(t)!==t}));cl&&(Fs={}),nl(Fs[al])||ol(Fs,al,(function(){return this}));var sl={IteratorPrototype:Fs,BUGGY_SAFARI_ITERATORS:ul},ll=sl.IteratorPrototype,fl=Cs,hl=Ze,dl=Ri,pl=Ju,vl=function(){return this},yl=Si,ml=Wt,gl=Ot,bl=function(t,e,n,r){var i=e+" Iterator";return t.prototype=fl(ll,{next:hl(+!r,n)}),dl(t,i,!1),pl[i]=vl,t},wl=tl,xl=$i,Ol=Ri,Sl=Qe,kl=Yn,jl=Ju,_l=ze.PROPER,Ml=ze.CONFIGURABLE,Dl=sl.IteratorPrototype,El=sl.BUGGY_SAFARI_ITERATORS,Ll=yt("iterator"),$l="keys",Pl="values",Al="entries",Tl=function(){return this},Rl=function(t,e,n,r,i,o,a){bl(n,e,r);var u,c,s,l=function(t){if(t===i&&v)return v;if(!El&&t in d)return d[t];switch(t){case $l:case Pl:case Al:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[Ll]||d["@@iterator"]||i&&d[i],v=!El&&p||l(i),y="Array"==e&&d.entries||p;if(y&&(u=wl(y.call(new t)))!==Object.prototype&&u.next&&(wl(u)!==Dl&&(xl?xl(u,Dl):gl(u[Ll])||kl(u,Ll,Tl)),Ol(u,f,!0)),_l&&i==Pl&&p&&p.name!==Pl&&(Ml?Sl(d,"name",Pl):(h=!0,v=function(){return ml(p,this)})),i)if(c={values:l(Pl),keys:o?v:l($l),entries:l(Al)},a)for(s in c)(El||h||!(s in d))&&kl(d,s,c[s]);else yl({target:e,proto:!0,forced:El||h},c);return d[Ll]!==v&&kl(d,Ll,v,{name:i}),jl[e]=v,c},Cl=function(t,e){return{value:t,done:e}},Il=hr,Nl=Gs,zl=Ju,Yl=gn,Wl=St.f,Fl=Rl,Bl=Cl,Hl=kt,Gl="Array Iterator",Ul=Yl.set,ql=Yl.getterFor(Gl),Vl=Fl(Array,"Array",(function(t,e){Ul(this,{type:Gl,target:Il(t),index:0,kind:e})}),(function(){var t=ql(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,Bl(void 0,!0)):Bl("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Kl=zl.Arguments=zl.Array;if(Nl("keys"),Nl("values"),Nl("entries"),Hl&&"values"!==Kl.name)try{Wl(Kl,"name",{value:"values"})}catch(t){}var Zl=Wt,Jl=re,Xl=Ja,Ql=Aa,tf=Pc;Si({target:"Promise",stat:!0,forced:zc},{allSettled:function(t){var e=this,n=Xl.f(e),r=n.resolve,i=n.reject,o=Ql((function(){var n=Jl(e.resolve),i=[],o=0,a=1;tf(t,(function(t){var u=o++,c=!1;a++,Zl(n,e,t).then((function(t){c||(c=!0,i[u]={status:"fulfilled",value:t},--a||r(i))}),(function(t){c||(c=!0,i[u]={status:"rejected",reason:t},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var ef=Jn,nf=String,rf=function(t){if("Symbol"===ef(t))throw TypeError("Cannot convert a Symbol value to a string");return nf(t)},of=T,af=_r,uf=rf,cf=N,sf=of("".charAt),lf=of("".charCodeAt),ff=of("".slice),hf=function(t){return function(e,n){var r,i,o=uf(cf(e)),a=af(n),u=o.length;return a<0||a>=u?t?"":void 0:(r=lf(o,a))<55296||r>56319||a+1===u||(i=lf(o,a+1))<56320||i>57343?t?sf(o,a):r:t?ff(o,a,a+2):i-56320+(r-55296<<10)+65536}},df={codeAt:hf(!1),charAt:hf(!0)},pf=df.charAt,vf=rf,yf=gn,mf=Rl,gf=Cl,bf="String Iterator",wf=yf.set,xf=yf.getterFor(bf);mf(String,"String",(function(t){wf(this,{type:bf,string:vf(t),index:0})}),(function(){var t,e=xf(this),n=e.string,r=e.index;return r>=n.length?gf(void 0,!0):(t=pf(n,r),e.index+=t.length,gf(t,!1))}));var Of={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Sf=$t("span").classList,kf=Sf&&Sf.constructor&&Sf.constructor.prototype,jf=kf===Object.prototype?void 0:kf,_f=y,Mf=Of,Df=jf,Ef=Vl,Lf=Qe,$f=yt,Pf=$f("iterator"),Af=$f("toStringTag"),Tf=Ef.values,Rf=function(t,e){if(t){if(t[Pf]!==Tf)try{Lf(t,Pf,Tf)}catch(e){t[Pf]=Tf}if(t[Af]||Lf(t,Af,e),Mf[e])for(var n in Ef)if(t[n]!==Ef[n])try{Lf(t,n,Ef[n])}catch(e){t[n]=Ef[n]}}};for(var Cf in Mf)Rf(_f[Cf]&&_f[Cf].prototype,Cf);Rf(Df,"DOMTokenList");var If=W,Nf=Lr,zf=Rr,Yf=function(t){for(var e=If(this),n=zf(e),r=arguments.length,i=Nf(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:Nf(o,n);a>i;)e[i++]=t;return e},Wf=Gs;Si({target:"Array",proto:!0},{fill:Yf}),Wf("fill");var Ff=Hn,Bf=Array.isArray||function(t){return"Array"==Ff(t)},Hf=we,Gf=St,Uf=Ze,qf=function(t,e,n){var r=Hf(e);r in t?Gf.f(t,r,Uf(0,n)):t[r]=n},Vf=D,Kf=rt,Zf=yt("species"),Jf=function(t){return Kf>=51||!Vf((function(){var e=[];return(e.constructor={})[Zf]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Xf=Si,Qf=Bf,th=uo,eh=Mt,nh=Lr,rh=Rr,ih=hr,oh=qf,ah=yt,uh=Lo,ch=Jf("slice"),sh=ah("species"),lh=Array,fh=Math.max;function hh(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}function dh(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}Xf({target:"Array",proto:!0,forced:!ch},{slice:function(t,e){var n,r,i,o=ih(this),a=rh(o),u=nh(t,a),c=nh(void 0===e?a:e,a);if(Qf(o)&&(n=o.constructor,(th(n)&&(n===lh||Qf(n.prototype))||eh(n)&&null===(n=n[sh]))&&(n=void 0),n===lh||void 0===n))return uh(o,u,c);for(r=new(void 0===n?lh:n)(fh(c-u,0)),i=0;u<c;u++,i++)u in o&&oh(r,i,o[u]);return r.length=i,r}});var ph={};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var u=new i(r,o||t,a),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],u]:t._events[c].push(u):(t._events[c]=u,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),u.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},u.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},u.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},u.prototype.emit=function(t,e,r,i,o,a){var u=n?n+t:t;if(!this._events[u])return!1;var c,s,l=this._events[u],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,a),!0}for(s=1,c=new Array(f-1);s<f;s++)c[s-1]=arguments[s];l.fn.apply(l.context,c)}else{var h,d=l.length;for(s=0;s<d;s++)switch(l[s].once&&this.removeListener(t,l[s].fn,void 0,!0),f){case 1:l[s].fn.call(l[s].context);break;case 2:l[s].fn.call(l[s].context,e);break;case 3:l[s].fn.call(l[s].context,e,r);break;case 4:l[s].fn.call(l[s].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(f-1);h<f;h++)c[h-1]=arguments[h];l[s].fn.apply(l[s].context,c)}}return!0},u.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var u=this._events[o];if(u.fn)u.fn!==e||i&&!u.once||r&&u.context!==r||a(this,o);else{for(var c=0,s=[],l=u.length;c<l;c++)(u[c].fn!==e||i&&!u[c].once||r&&u[c].context!==r)&&s.push(u[c]);s.length?this._events[o]=1===s.length?s[0]:s:a(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}({get exports(){return ph},set exports(t){ph=t}});var vh=ph,yh=Array.isArray;function mh(){if(!arguments.length)return[];var t=arguments[0];return yh(t)?t:[t]}var gh=Bf,bh=uo,wh=Mt,xh=yt("species"),Oh=Array,Sh=function(t){var e;return gh(t)&&(e=t.constructor,(bh(e)&&(e===Oh||gh(e.prototype))||wh(e)&&null===(e=e[xh]))&&(e=void 0)),void 0===e?Oh:e},kh=function(t,e){return new(Sh(t))(0===e?0:e)},jh=Do,_h=sr,Mh=W,Dh=Rr,Eh=kh,Lh=T([].push),$h=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,a=7==t,u=5==t||o;return function(c,s,l,f){for(var h,d,p=Mh(c),v=_h(p),y=jh(s,l),m=Dh(v),g=0,b=f||Eh,w=e?b(c,m):n||a?b(c,0):void 0;m>g;g++)if((u||g in v)&&(d=y(h=v[g],g,p),t))if(e)w[g]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:Lh(w,h)}else switch(t){case 4:return!1;case 7:Lh(w,h)}return o?-1:r||i?i:w}},Ph={forEach:$h(0),map:$h(1),filter:$h(2),some:$h(3),every:$h(4),find:$h(5),findIndex:$h(6),filterReject:$h(7)},Ah=Ph.map;Si({target:"Array",proto:!0,forced:!Jf("map")},{map:function(t){return Ah(this,t,arguments.length>1?arguments[1]:void 0)}});var Th=kt,Rh=T,Ch=Wt,Ih=D,Nh=vs,zh=Zr,Yh=er,Wh=W,Fh=sr,Bh=Object.assign,Hh=Object.defineProperty,Gh=Rh([].concat),Uh=!Bh||Ih((function(){if(Th&&1!==Bh({b:1},Bh(Hh({},"a",{enumerable:!0,get:function(){Hh(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Bh({},t)[n]||Nh(Bh({},e)).join("")!=r}))?function(t,e){for(var n=Wh(t),r=arguments.length,i=1,o=zh.f,a=Yh.f;r>i;)for(var u,c=Fh(arguments[i++]),s=o?Gh(Nh(c),o(c)):Nh(c),l=s.length,f=0;l>f;)u=s[f++],Th&&!Ch(a,c,u)||(n[u]=c[u]);return n}:Bh,qh=Uh;Si({target:"Object",stat:!0,arity:2,forced:Object.assign!==qh},{assign:qh});var Vh={},Kh={get exports(){return Vh},set exports(t){Vh=t}},Zh={},Jh=Lr,Xh=Rr,Qh=qf,td=Array,ed=Math.max,nd=function(t,e,n){for(var r=Xh(t),i=Jh(e,r),o=Jh(void 0===n?r:n,r),a=td(ed(o-i,0)),u=0;i<o;i++,u++)Qh(a,u,t[i]);return a.length=u,a},rd=Hn,id=hr,od=Or.f,ad=nd,ud="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Zh.f=function(t){return ud&&"Window"==rd(t)?function(t){try{return od(t)}catch(t){return ad(ud)}}(t):od(id(t))};var cd=D((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),sd=D,ld=Mt,fd=Hn,hd=cd,dd=Object.isExtensible,pd=sd((function(){dd(1)}))||hd?function(t){return!!ld(t)&&((!hd||"ArrayBuffer"!=fd(t))&&(!dd||dd(t)))}:dd,vd=!D((function(){return Object.isExtensible(Object.preventExtensions({}))})),yd=Si,md=T,gd=rn,bd=Mt,wd=H,xd=St.f,Od=Or,Sd=Zh,kd=pd,jd=vd,_d=!1,Md=K("meta"),Dd=0,Ed=function(t){xd(t,Md,{value:{objectID:"O"+Dd++,weakData:{}}})},Ld=Kh.exports={enable:function(){Ld.enable=function(){},_d=!0;var t=Od.f,e=md([].splice),n={};n[Md]=1,t(n).length&&(Od.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===Md){e(r,i,1);break}return r},yd({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Sd.f}))},fastKey:function(t,e){if(!bd(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!wd(t,Md)){if(!kd(t))return"F";if(!e)return"E";Ed(t)}return t[Md].objectID},getWeakData:function(t,e){if(!wd(t,Md)){if(!kd(t))return!0;if(!e)return!1;Ed(t)}return t[Md].weakData},onFreeze:function(t){return jd&&_d&&kd(t)&&!wd(t,Md)&&Ed(t),t}};gd[Md]=!0;var $d=Ot,Pd=Mt,Ad=$i,Td=Si,Rd=y,Cd=T,Id=vi,Nd=Yn,zd=Vh,Yd=Pc,Wd=Bi,Fd=Ot,Bd=R,Hd=Mt,Gd=D,Ud=Ic,qd=Ri,Vd=function(t,e,n){var r,i;return Ad&&$d(r=e.constructor)&&r!==n&&Pd(i=r.prototype)&&i!==n.prototype&&Ad(t,i),t},Kd=function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),o=r?"set":"add",a=Rd[t],u=a&&a.prototype,c=a,s={},l=function(t){var e=Cd(u[t]);Nd(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!Hd(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return i&&!Hd(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!Hd(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(Id(t,!Fd(a)||!(i||u.forEach&&!Gd((function(){(new a).entries().next()})))))c=n.getConstructor(e,t,r,o),zd.enable();else if(Id(t,!0)){var f=new c,h=f[o](i?{}:-0,1)!=f,d=Gd((function(){f.has(1)})),p=Ud((function(t){new a(t)})),v=!i&&Gd((function(){for(var t=new a,e=5;e--;)t[o](e,e);return!t.has(-0)}));p||((c=e((function(t,e){Wd(t,u);var n=Vd(new a,t,c);return Bd(e)||Yd(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=u,u.constructor=c),(d||v)&&(l("delete"),l("has"),r&&l("get")),(v||h)&&l(o),i&&u.clear&&delete u.clear}return s[t]=c,Td({global:!0,constructor:!0,forced:c!=a},s),qd(c,t),i||n.setStrong(c,t,r),c},Zd=Yn,Jd=function(t,e,n){for(var r in e)Zd(t,r,e[r],n);return t},Xd=T,Qd=Jd,tp=Vh.getWeakData,ep=Bi,np=Nt,rp=R,ip=Mt,op=Pc,ap=H,up=gn.set,cp=gn.getterFor,sp=Ph.find,lp=Ph.findIndex,fp=Xd([].splice),hp=0,dp=function(t){return t.frozen||(t.frozen=new pp)},pp=function(){this.entries=[]},vp=function(t,e){return sp(t.entries,(function(t){return t[0]===e}))};pp.prototype={get:function(t){var e=vp(this,t);if(e)return e[1]},has:function(t){return!!vp(this,t)},set:function(t,e){var n=vp(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=lp(this.entries,(function(e){return e[0]===t}));return~e&&fp(this.entries,e,1),!!~e}};var yp,mp,gp,bp,wp,xp={getConstructor:function(t,e,n,r){var i=t((function(t,i){ep(t,o),up(t,{type:e,id:hp++,frozen:void 0}),rp(i)||op(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=cp(e),u=function(t,e,n){var r=a(t),i=tp(np(e),!0);return!0===i?dp(r).set(e,n):i[r.id]=n,t};return Qd(o,{delete:function(t){var e=a(this);if(!ip(t))return!1;var n=tp(t);return!0===n?dp(e).delete(t):n&&ap(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!ip(t))return!1;var n=tp(t);return!0===n?dp(e).has(t):n&&ap(n,e.id)}}),Qd(o,n?{get:function(t){var e=a(this);if(ip(t)){var n=tp(t);return!0===n?dp(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),i}};Kd("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),xp),function(t){t[t.SCROLL_NONE=0]="SCROLL_NONE",t[t.SCROLL_BACKWARD=1]="SCROLL_BACKWARD",t[t.SCROLL_FORWARD=2]="SCROLL_FORWARD"}(yp||(yp={})),function(t){t[t.TOP=0]="TOP",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.LEFT=3]="LEFT"}(mp||(mp={}));var Op=function(){function t(e){a(this,t),gp.add(this),this.calendar=e,this.maxDomainReached=!1,this.minDomainReached=!1}return c(t,[{key:"loadNewDomains",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yp.SCROLL_NONE,r=this.calendar.options.options,i=this.calendar.templateCollection,o=r.date.min?i.get(r.domain.type).extractUnit(+r.date.min):void 0,a=r.date.max?i.get(r.domain.type).extractUnit(+r.date.max):void 0,u=this.calendar.domainCollection;return dh(this,gp,"m",bp).call(this,t,o,a,n)?yp.SCROLL_NONE:(n!==yp.SCROLL_NONE&&t.clamp(o,a).slice(r.range,n===yp.SCROLL_FORWARD),u.merge(t,r.range,(function(n,o){var a=null;return a=t.at(o+1)?t.at(o+1):e.calendar.dateHelper.intervals(r.domain.type,n,2).pop(),i.get(r.subDomain.type).mapping(n,a).map((function(t){return Object.assign(Object.assign({},t),{v:null})}))})),dh(this,gp,"m",wp).call(this,u.min,u.max,o,a),n===yp.SCROLL_BACKWARD?this.calendar.eventEmitter.emit("domainsLoaded",[u.min]):n===yp.SCROLL_FORWARD&&this.calendar.eventEmitter.emit("domainsLoaded",[u.max]),n)}},{key:"jumpTo",value:function(t,e){var n=this.calendar,r=n.domainCollection,i=n.options,o=new Date(r.min),a=new Date(r.max);return t<o?this.loadNewDomains(this.calendar.createDomainCollection(t,o,!1),yp.SCROLL_BACKWARD):e?this.loadNewDomains(this.calendar.createDomainCollection(t,i.options.range),o<t?yp.SCROLL_FORWARD:yp.SCROLL_BACKWARD):t>a?this.loadNewDomains(this.calendar.createDomainCollection(a,t,!1),yp.SCROLL_FORWARD):yp.SCROLL_NONE}}]),t}();gp=new WeakSet,bp=function(t,e,n,r){return!!(n&&t.max>=n&&this.maxDomainReached&&r===yp.SCROLL_FORWARD)||!!(e&&t.min<=e&&this.minDomainReached&&r===yp.SCROLL_BACKWARD)},wp=function(t,e,n,r){if(n){var i=t<=n;this.calendar.eventEmitter.emit(i?"minDateReached":"minDateNotReached"),this.minDomainReached=i}if(r){var o=e>=r;this.calendar.eventEmitter.emit(o?"maxDateReached":"maxDateNotReached"),this.maxDomainReached=o}};var Sp=TypeError,kp=Si,jp=D,_p=Bf,Mp=Mt,Dp=W,Ep=Rr,Lp=function(t){if(t>9007199254740991)throw Sp("Maximum allowed index exceeded");return t},$p=qf,Pp=kh,Ap=Jf,Tp=rt,Rp=yt("isConcatSpreadable"),Cp=Tp>=51||!jp((function(){var t=[];return t[Rp]=!1,t.concat()[0]!==t})),Ip=function(t){if(!Mp(t))return!1;var e=t[Rp];return void 0!==e?!!e:_p(t)};kp({target:"Array",proto:!0,arity:1,forced:!Cp||!Ap("concat")},{concat:function(t){var e,n,r,i,o,a=Dp(this),u=Pp(a,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(Ip(o=-1===e?a:arguments[e]))for(i=Ep(o),Lp(c+i),n=0;n<i;n++,c++)n in o&&$p(u,c,o[n]);else Lp(c+1),$p(u,c++,o);return u.length=c,u}});var Np=D,zp=function(t,e){var n=[][t];return!!n&&Np((function(){n.call(null,e||function(){return 1},1)}))},Yp=Si,Wp=sr,Fp=hr,Bp=zp,Hp=T([].join);Yp({target:"Array",proto:!0,forced:Wp!=Object||!Bp("join",",")},{join:function(t){return Hp(Fp(this),void 0===t?",":t)}});var Gp=St.f,Up=Cs,qp=Jd,Vp=Do,Kp=Bi,Zp=R,Jp=Pc,Xp=Rl,Qp=Cl,tv=Yi,ev=kt,nv=Vh.fastKey,rv=gn.set,iv=gn.getterFor,ov={getConstructor:function(t,e,n,r){var i=t((function(t,i){Kp(t,o),rv(t,{type:e,index:Up(null),first:void 0,last:void 0,size:0}),ev||(t.size=0),Zp(i)||Jp(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,a=iv(e),u=function(t,e,n){var r,i,o=a(t),u=c(t,e);return u?u.value=n:(o.last=u={index:i=nv(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),ev?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},c=function(t,e){var n,r=a(t),i=nv(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return qp(o,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,ev?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=c(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),ev?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=Vp(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),qp(o,n?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),ev&&Gp(o,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=iv(e),o=iv(r);Xp(t,e,(function(t,e){rv(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?Qp("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,Qp(void 0,!0))}),n?"entries":"values",!n,!0),tv(e)}};Kd("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),ov);var av=Qt,uv=TypeError,cv=nd,sv=Math.floor,lv=function(t,e){var n=t.length,r=sv(n/2);return n<8?fv(t,e):hv(t,lv(cv(t,0,r),e),lv(cv(t,r),e),e)},fv=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},hv=function(t,e,n,r){for(var i=e.length,o=n.length,a=0,u=0;a<i||u<o;)t[a+u]=a<i&&u<o?r(e[a],n[u])<=0?e[a++]:n[u++]:a<i?e[a++]:n[u++];return t},dv=lv,pv=Z.match(/firefox\/(\d+)/i),vv=!!pv&&+pv[1],yv=/MSIE|Trident/.test(Z),mv=Z.match(/AppleWebKit\/(\d+)\./),gv=!!mv&&+mv[1],bv=Si,wv=T,xv=re,Ov=W,Sv=Rr,kv=function(t,e){if(!delete t[e])throw uv("Cannot delete property "+av(e)+" of "+av(t))},jv=rf,_v=D,Mv=dv,Dv=zp,Ev=vv,Lv=yv,$v=rt,Pv=gv,Av=[],Tv=wv(Av.sort),Rv=wv(Av.push),Cv=_v((function(){Av.sort(void 0)})),Iv=_v((function(){Av.sort(null)})),Nv=Dv("sort"),zv=!_v((function(){if($v)return $v<70;if(!(Ev&&Ev>3)){if(Lv)return!0;if(Pv)return Pv<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Av.push({k:e+r,v:n})}for(Av.sort((function(t,e){return e.v-t.v})),r=0;r<Av.length;r++)e=Av[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));bv({target:"Array",proto:!0,forced:Cv||!Iv||!Nv||!zv},{sort:function(t){void 0!==t&&xv(t);var e=Ov(this);if(zv)return void 0===t?Tv(e):Tv(e,t);var n,r,i=[],o=Sv(e);for(r=0;r<o;r++)r in e&&Rv(i,e[r]);for(Mv(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:jv(e)>jv(n)?1:-1}}(t)),n=Sv(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)kv(e,r++);return e}});var Yv,Wv,Fv,Bv=Ph.forEach,Hv=zp("forEach")?[].forEach:function(t){return Bv(this,t,arguments.length>1?arguments[1]:void 0)},Gv=y,Uv=Of,qv=jf,Vv=Hv,Kv=Qe,Zv=function(t){if(t&&t.forEach!==Vv)try{Kv(t,"forEach",Vv)}catch(e){t.forEach=Vv}};for(var Jv in Uv)Uv[Jv]&&Zv(Gv[Jv]&&Gv[Jv].prototype);Zv(qv);var Xv,Qv,ty=function(){function t(e,n){a(this,t),Yv.add(this),this.calendar=e,this.domainPainter=n,this.collection=new Map,this.scrollDirection=yp.SCROLL_FORWARD}return c(t,[{key:"get",value:function(t){return this.collection.get(t)}},{key:"update",value:function(t,e){var n=this,r=this.calendar.options.options,i=r.verticalOrientation,o=r.domain;this.scrollDirection=e;var a={width:0,height:0},u=0,c=e===yp.SCROLL_FORWARD?-1:1,s=t.keys;return"desc"===this.calendar.options.options.domain.sort&&(s.reverse(),c*=-1),t.yankedDomains.forEach((function(t){u+=n.collection.get(t)[i?"height":"width"]})),t.yankedDomains.forEach((function(t){var e=n.collection.get(t);n.collection.set(t,Object.assign(Object.assign({},e),{x:i?e.x:e.x+u*c,y:i?e.y+u*c:e.y}))})),s.forEach((function(t){var e=dh(n,Yv,"m",Wv).call(n,t),r=dh(n,Yv,"m",Fv).call(n,t);i?(a.height+=r,a.width=Math.max(e,a.width)):(a.width+=e,a.height=Math.max(r,a.height));var s=a.width-e,l=a.height-r;n.collection.set(t,Object.assign(Object.assign({},n.collection.get(t)),{x:i?0:s,y:i?l:0,pre_x:i?s:s-u*c,pre_y:i?l-u*c:l,width:e,height:r,inner_width:e-(i?0:o.gutter),inner_height:r-(i?o.gutter:0)}))})),a}}]),t}();Yv=new WeakSet,Wv=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).columnsCount(t),u=(r.width+r.gutter)*a-r.gutter;return n.padding[mp.LEFT]+i.domainHorizontalLabelWidth+(o?0:n.gutter)+u+n.padding[mp.RIGHT]},Fv=function(t){var e=this.calendar.options.options,n=e.domain,r=e.subDomain,i=e.x,o=e.verticalOrientation,a=this.calendar.templateCollection.get(r.type).rowsCount(t),u=(r.height+r.gutter)*a-r.gutter;return n.padding[mp.TOP]+u+(o?n.gutter:0)+i.domainVerticalLabelHeight+n.padding[mp.BOTTOM]};var ey="graph-domain",ny=function(){function t(e){a(this,t),Xv.add(this),this.calendar=e,this.coordinates=new ty(e,this),this.root=null,this.dimensions={width:0,height:0}}return c(t,[{key:"paint",value:function(t,e){var n=this,r=this.calendar.options.options.animationDuration,i=e.transition().duration(r),o=this.coordinates;this.dimensions=o.update(this.calendar.domainCollection,t);var a=[];return this.root=e.select(".graph").selectAll(".".concat(ey)).data(this.calendar.domainCollection.keys,(function(t){return t})).join((function(t){return t.append("svg").attr("x",(function(t){return o.get(t).pre_x})).attr("y",(function(t){return o.get(t).pre_y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class",(function(t){return dh(n,Xv,"m",Qv).call(n,t)})).call((function(t){return t.append("rect").attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).attr("class","domain-background")})).call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())})).call((function(t){return a.push(t.selectAll(".domain-background").transition(i).attr("width",(function(t){return o.get(t).inner_width})).attr("height",(function(t){return o.get(t).inner_height})).end())}))}),(function(t){return t.call((function(t){return a.push(t.transition(i).attr("x",(function(t){return o.get(t).x})).attr("y",(function(t){return o.get(t).y})).remove().end())}))})),a}}]),t}();Xv=new WeakSet,Qv=function(t){var e=ey,n=this.calendar.dateHelper.date(t);switch(this.calendar.options.options.domain.type){case"hour":e+=" h_".concat(n.hour());break;case"day":e+=" d_".concat(n.date()," dy_").concat(n.format("d")+1);break;case"week":e+=" w_".concat(n.week());break;case"month":e+=" m_".concat(n.month()+1);break;case"year":e+=" y_".concat(n.year())}return e};var ry=Yr.includes,iy=Gs;Si({target:"Array",proto:!0,forced:D((function(){return!Array(1).includes()}))},{includes:function(t){return ry(this,t,arguments.length>1?arguments[1]:void 0)}}),iy("includes");var oy=Ph.filter;Si({target:"Array",proto:!0,forced:!Jf("filter")},{filter:function(t){return oy(this,t,arguments.length>1?arguments[1]:void 0)}});var ay=re,uy=W,cy=sr,sy=Rr,ly=TypeError,fy=function(t){return function(e,n,r,i){ay(n);var o=uy(e),a=cy(o),u=sy(o),c=t?u-1:0,s=t?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=s;break}if(c+=s,t?c<0:u<=c)throw ly("Reduce of empty array with no initial value")}for(;t?c>=0:u>c;c+=s)c in a&&(i=n(i,a[c],c,o));return i}},hy={left:fy(!1),right:fy(!0)}.left;Si({target:"Array",proto:!0,forced:!ki&&rt>79&&rt<83||!zp("reduce")},{reduce:function(t){var e=arguments.length;return hy(this,t,e,e>1?arguments[1]:void 0)}});var dy=Nt,py=gc,vy=Do,yy=Wt,my=W,gy=function(t,e,n,r){try{return r?e(dy(n)[0],n[1]):e(n)}catch(e){py(t,"throw",e)}},by=ec,wy=uo,xy=Rr,Oy=qf,Sy=pc,ky=uc,jy=Array,_y=function(t){var e=my(t),n=wy(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=vy(i,r>2?arguments[2]:void 0));var a,u,c,s,l,f,h=ky(e),d=0;if(!h||this===jy&&by(h))for(a=xy(e),u=n?new this(a):jy(a);a>d;d++)f=o?i(e[d],d):e[d],Oy(u,d,f);else for(l=(s=Sy(e,h)).next,u=n?new this:[];!(c=yy(l,s)).done;d++)f=o?gy(s,i,[c.value,d],!0):c.value,Oy(u,d,f);return u.length=d,u};Si({target:"Array",stat:!0,forced:!Ic((function(t){Array.from(t)}))},{from:_y});var My="\t\n\v\f\r                　\u2028\u2029\ufeff",Dy=N,Ey=rf,Ly=My,$y=T("".replace),Py="["+Ly+"]",Ay=RegExp("^"+Py+Py+"*"),Ty=RegExp(Py+Py+"*$"),Ry=function(t){return function(e){var n=Ey(Dy(e));return 1&t&&(n=$y(n,Ay,"")),2&t&&(n=$y(n,Ty,"")),n}},Cy={start:Ry(1),end:Ry(2),trim:Ry(3)},Iy=y,Ny=D,zy=T,Yy=rf,Wy=Cy.trim,Fy=My,By=Iy.parseInt,Hy=Iy.Symbol,Gy=Hy&&Hy.iterator,Uy=/^[+-]?0x/i,qy=zy(Uy.exec),Vy=8!==By(Fy+"08")||22!==By(Fy+"0x16")||Gy&&!Ny((function(){By(Object(Gy))}))?function(t,e){var n=Wy(Yy(t));return By(n,e>>>0||(qy(Uy,n)?16:10))}:By;Si({global:!0,forced:parseInt!=Vy},{parseInt:Vy});var Ky="object"==typeof global&&global&&global.Object===Object&&global,Zy="object"==typeof self&&self&&self.Object===Object&&self,Jy=Ky||Zy||Function("return this")(),Xy=Jy.Symbol,Qy=Object.prototype,tm=Qy.hasOwnProperty,em=Qy.toString,nm=Xy?Xy.toStringTag:void 0;var rm=Object.prototype.toString;var im=Xy?Xy.toStringTag:void 0;function om(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":im&&im in Object(t)?function(t){var e=tm.call(t,nm),n=t[nm];try{t[nm]=void 0;var r=!0}catch(t){}var i=em.call(t);return r&&(e?t[nm]=n:delete t[nm]),i}(t):function(t){return rm.call(t)}(t)}function am(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function um(t){if(!am(t))return!1;var e=om(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var cm=Jy["__core-js_shared__"],sm=function(){var t=/[^.]+$/.exec(cm&&cm.keys&&cm.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var lm=Function.prototype.toString;function fm(t){if(null!=t){try{return lm.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var hm=/^\[object .+?Constructor\]$/,dm=Function.prototype,pm=Object.prototype,vm=dm.toString,ym=pm.hasOwnProperty,mm=RegExp("^"+vm.call(ym).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gm(t){return!(!am(t)||(e=t,sm&&sm in e))&&(um(t)?mm:hm).test(fm(t));var e}function bm(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return gm(n)?n:void 0}var wm=function(){try{var t=bm(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),xm=wm;function Om(t,e,n){"__proto__"==e&&xm?xm(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Sm(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}var km,jm=function(t,e,n){for(var r=-1,i=Object(t),o=n(t),a=o.length;a--;){var u=o[km?a:++r];if(!1===e(i[u],u,i))break}return t},_m=jm;function Mm(t){return null!=t&&"object"==typeof t}function Dm(t){return Mm(t)&&"[object Arguments]"==om(t)}var Em=Object.prototype,Lm=Em.hasOwnProperty,$m=Em.propertyIsEnumerable,Pm=Dm(function(){return arguments}())?Dm:function(t){return Mm(t)&&Lm.call(t,"callee")&&!$m.call(t,"callee")},Am=Pm;var Tm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rm=Tm&&"object"==typeof module&&module&&!module.nodeType&&module,Cm=Rm&&Rm.exports===Tm?Jy.Buffer:void 0,Im=(Cm?Cm.isBuffer:void 0)||function(){return!1},Nm=/^(?:0|[1-9]\d*)$/;function zm(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Nm.test(t))&&t>-1&&t%1==0&&t<e}function Ym(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}var Wm={};Wm["[object Float32Array]"]=Wm["[object Float64Array]"]=Wm["[object Int8Array]"]=Wm["[object Int16Array]"]=Wm["[object Int32Array]"]=Wm["[object Uint8Array]"]=Wm["[object Uint8ClampedArray]"]=Wm["[object Uint16Array]"]=Wm["[object Uint32Array]"]=!0,Wm["[object Arguments]"]=Wm["[object Array]"]=Wm["[object ArrayBuffer]"]=Wm["[object Boolean]"]=Wm["[object DataView]"]=Wm["[object Date]"]=Wm["[object Error]"]=Wm["[object Function]"]=Wm["[object Map]"]=Wm["[object Number]"]=Wm["[object Object]"]=Wm["[object RegExp]"]=Wm["[object Set]"]=Wm["[object String]"]=Wm["[object WeakMap]"]=!1;var Fm,Bm="object"==typeof exports&&exports&&!exports.nodeType&&exports,Hm=Bm&&"object"==typeof module&&module&&!module.nodeType&&module,Gm=Hm&&Hm.exports===Bm&&Ky.process,Um=function(){try{var t=Hm&&Hm.require&&Hm.require("util").types;return t||Gm&&Gm.binding&&Gm.binding("util")}catch(t){}}(),qm=Um&&Um.isTypedArray,Vm=qm?(Fm=qm,function(t){return Fm(t)}):function(t){return Mm(t)&&Ym(t.length)&&!!Wm[om(t)]},Km=Object.prototype.hasOwnProperty;function Zm(t,e){var n=yh(t),r=!n&&Am(t),i=!n&&!r&&Im(t),o=!n&&!r&&!i&&Vm(t),a=n||r||i||o,u=a?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=u.length;for(var s in t)!e&&!Km.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||zm(s,c))||u.push(s);return u}var Jm=Object.prototype;function Xm(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Jm)}function Qm(t,e){return function(n){return t(e(n))}}var tg=Qm(Object.keys,Object),eg=Object.prototype.hasOwnProperty;function ng(t){return null!=t&&Ym(t.length)&&!um(t)}function rg(t){return ng(t)?Zm(t):function(t){if(!Xm(t))return tg(t);var e=[];for(var n in Object(t))eg.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var ig=function(t,e){return function(n,r){if(null==n)return n;if(!ng(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(t,e){return t&&_m(t,e,rg)})),og=ig;function ag(t,e,n,r){return og(t,(function(t,i,o){e(r,t,n(t),o)})),r}function ug(t,e){return t===e||t!=t&&e!=e}function cg(t,e){for(var n=t.length;n--;)if(ug(t[n][0],e))return n;return-1}var sg=Array.prototype.splice;function lg(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lg.prototype.clear=function(){this.__data__=[],this.size=0},lg.prototype.delete=function(t){var e=this.__data__,n=cg(e,t);return!(n<0)&&(n==e.length-1?e.pop():sg.call(e,n,1),--this.size,!0)},lg.prototype.get=function(t){var e=this.__data__,n=cg(e,t);return n<0?void 0:e[n][1]},lg.prototype.has=function(t){return cg(this.__data__,t)>-1},lg.prototype.set=function(t,e){var n=this.__data__,r=cg(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var fg=bm(Jy,"Map"),hg=bm(Object,"create");var dg=Object.prototype.hasOwnProperty;var pg=Object.prototype.hasOwnProperty;function vg(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function yg(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function mg(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vg.prototype.clear=function(){this.__data__=hg?hg(null):{},this.size=0},vg.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},vg.prototype.get=function(t){var e=this.__data__;if(hg){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return dg.call(e,t)?e[t]:void 0},vg.prototype.has=function(t){var e=this.__data__;return hg?void 0!==e[t]:pg.call(e,t)},vg.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hg&&void 0===e?"__lodash_hash_undefined__":e,this},mg.prototype.clear=function(){this.size=0,this.__data__={hash:new vg,map:new(fg||lg),string:new vg}},mg.prototype.delete=function(t){var e=yg(this,t).delete(t);return this.size-=e?1:0,e},mg.prototype.get=function(t){return yg(this,t).get(t)},mg.prototype.has=function(t){return yg(this,t).has(t)},mg.prototype.set=function(t,e){var n=yg(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function gg(t){var e=this.__data__=new lg(t);this.size=e.size}gg.prototype.clear=function(){this.__data__=new lg,this.size=0},gg.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},gg.prototype.get=function(t){return this.__data__.get(t)},gg.prototype.has=function(t){return this.__data__.has(t)},gg.prototype.set=function(t,e){var n=this.__data__;if(n instanceof lg){var r=n.__data__;if(!fg||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new mg(r)}return n.set(t,e),this.size=n.size,this};function bg(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new mg;++e<n;)this.add(t[e])}function wg(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}bg.prototype.add=bg.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},bg.prototype.has=function(t){return this.__data__.has(t)};function xg(t,e,n,r,i,o){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=o.get(t),l=o.get(e);if(s&&l)return s==e&&l==t;var f=-1,h=!0,d=2&n?new bg:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var p=t[f],v=e[f];if(r)var y=a?r(v,p,f,e,t,o):r(p,v,f,t,e,o);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!wg(e,(function(t,e){if(a=e,!d.has(a)&&(p===t||i(p,t,n,r,o)))return d.push(e);var a}))){h=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}var Og=Jy.Uint8Array;function Sg(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function kg(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var jg=Xy?Xy.prototype:void 0,_g=jg?jg.valueOf:void 0;var Mg=Object.prototype.propertyIsEnumerable,Dg=Object.getOwnPropertySymbols,Eg=Dg?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}(Dg(t),(function(e){return Mg.call(t,e)})))}:function(){return[]},Lg=Eg;function $g(t){return function(t,e,n){var r=e(t);return yh(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,rg,Lg)}var Pg=Object.prototype.hasOwnProperty;var Ag=bm(Jy,"DataView"),Tg=bm(Jy,"Promise"),Rg=bm(Jy,"Set"),Cg=bm(Jy,"WeakMap"),Ig="[object Map]",Ng="[object Promise]",zg="[object Set]",Yg="[object WeakMap]",Wg="[object DataView]",Fg=fm(Ag),Bg=fm(fg),Hg=fm(Tg),Gg=fm(Rg),Ug=fm(Cg),qg=om;(Ag&&qg(new Ag(new ArrayBuffer(1)))!=Wg||fg&&qg(new fg)!=Ig||Tg&&qg(Tg.resolve())!=Ng||Rg&&qg(new Rg)!=zg||Cg&&qg(new Cg)!=Yg)&&(qg=function(t){var e=om(t),n="[object Object]"==e?t.constructor:void 0,r=n?fm(n):"";if(r)switch(r){case Fg:return Wg;case Bg:return Ig;case Hg:return Ng;case Gg:return zg;case Ug:return Yg}return e});var Vg=qg,Kg="[object Arguments]",Zg="[object Array]",Jg="[object Object]",Xg=Object.prototype.hasOwnProperty;function Qg(t,e,n,r,i,o){var a=yh(t),u=yh(e),c=a?Zg:Vg(t),s=u?Zg:Vg(e),l=(c=c==Kg?Jg:c)==Jg,f=(s=s==Kg?Jg:s)==Jg,h=c==s;if(h&&Im(t)){if(!Im(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new gg),a||Vm(t)?xg(t,e,n,r,i,o):function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Og(t),new Og(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ug(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Sg;case"[object Set]":var c=1&r;if(u||(u=kg),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var l=xg(u(t),u(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(_g)return _g.call(t)==_g.call(e)}return!1}(t,e,c,n,r,i,o);if(!(1&n)){var d=l&&Xg.call(t,"__wrapped__"),p=f&&Xg.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new gg),i(v,y,n,r,o)}}return!!h&&(o||(o=new gg),function(t,e,n,r,i,o){var a=1&n,u=$g(t),c=u.length;if(c!=$g(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:Pg.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var d=!0;o.set(t,e),o.set(e,t);for(var p=a;++s<c;){var v=t[l=u[s]],y=e[l];if(r)var m=a?r(y,v,l,e,t,o):r(v,y,l,t,e,o);if(!(void 0===m?v===y||i(v,y,n,r,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(t),o.delete(e),d}(t,e,n,r,i,o))}function tb(t,e,n,r,i){return t===e||(null==t||null==e||!Mm(t)&&!Mm(e)?t!=t&&e!=e:Qg(t,e,n,r,tb,i))}function eb(t){return t==t&&!am(t)}function nb(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function rb(t){var e=function(t){for(var e=rg(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,eb(i)]}return e}(t);return 1==e.length&&e[0][2]?nb(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=n[i])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new gg;if(r)var h=r(s,l,c,t,e,f);if(!(void 0===h?tb(l,s,3,r,f):h))return!1}}return!0}(n,t,e)}}function ib(t){return"symbol"==typeof t||Mm(t)&&"[object Symbol]"==om(t)}var ob=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ab=/^\w*$/;function ub(t,e){if(yh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ib(t))||(ab.test(t)||!ob.test(t)||null!=e&&t in Object(e))}function cb(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(cb.Cache||mg),n}cb.Cache=mg;var sb=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lb=/\\(\\)?/g,fb=function(t){var e=cb(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(sb,(function(t,n,r,i){e.push(r?i.replace(lb,"$1"):n||t)})),e})),hb=fb;var db=Xy?Xy.prototype:void 0,pb=db?db.toString:void 0;function vb(t){if("string"==typeof t)return t;if(yh(t))return function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}(t,vb)+"";if(ib(t))return pb?pb.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function yb(t,e){return yh(t)?t:ub(t,e)?[t]:hb(function(t){return null==t?"":vb(t)}(t))}function mb(t){if("string"==typeof t||ib(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function gb(t,e){for(var n=0,r=(e=yb(e,t)).length;null!=t&&n<r;)t=t[mb(e[n++])];return n&&n==r?t:void 0}function bb(t,e,n){var r=null==t?void 0:gb(t,e);return void 0===r?n:r}function wb(t,e){return null!=t&&e in Object(t)}function xb(t,e,n){for(var r=-1,i=(e=yb(e,t)).length,o=!1;++r<i;){var a=mb(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ym(i)&&zm(a,i)&&(yh(t)||Am(t))}function Ob(t,e){return ub(t)&&eb(e)?nb(mb(t),e):function(n){var r=bb(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&xb(t,e,wb)}(n,t):tb(e,r,3)}}function Sb(t){return t}function kb(t){return ub(t)?(e=mb(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return gb(e,t)}}(t);var e}var jb,_b,Mb,Db,Eb,Lb,$b,Pb,Ab,Tb,Rb,Cb,Ib,Nb,zb=Object.prototype.hasOwnProperty,Yb=(jb=function(t,e,n){zb.call(t,n)?t[n].push(e):Om(t,n,[e])},function(t,e){var n,r=yh(t)?Sm:ag,i=_b?_b():{};return r(t,jb,"function"==typeof(n=e)?n:null==n?Sb:"object"==typeof n?yh(n)?Ob(n[0],n[1]):rb(n):kb(n),i)}),Wb=Yb,Fb={year:"YYYY",month:"MMMM",week:"wo [week] YYYY",x_day:"Do MMM",day:"Do MMM",hour:"HH:00"},Bb=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];a(this,t),Mb.add(this),this.collection=new Map,this.dateHelper=e,n&&r&&i&&(this.collection=new Map(this.dateHelper.intervals(n,r,i,o).map((function(t){return mh(t)})))),this.min=0,this.max=0,this.keys=[],this.yankedDomains=[],this.collection.size>0&&dh(this,Mb,"m",$b).call(this)}return c(t,[{key:"has",value:function(t){return this.collection.has(t)}},{key:"get",value:function(t){return this.collection.get(t)}},{key:"forEach",value:function(t){return this.collection.forEach(t)}},{key:"at",value:function(t){return this.keys[t]}},{key:"clamp",value:function(t,e){var n=this;return t&&this.min<t&&this.keys.filter((function(e){return e<t})).forEach((function(t){return n.collection.delete(t)})),e&&this.max>e&&this.keys.filter((function(t){return t>e})).forEach((function(t){return n.collection.delete(t)})),dh(this,Mb,"m",$b).call(this),this}},{key:"merge",value:function(t,e,n){var r=this;this.yankedDomains=[],t.keys.forEach((function(t,i){if(!r.has(t)){if(r.collection.size>=e){var o=r.max;t>r.max&&(o=r.min),o&&r.collection.delete(o)&&r.yankedDomains.push(o)}r.collection.set(t,n(t,i)),dh(r,Mb,"m",$b).call(r)}})),this.yankedDomains=this.yankedDomains.sort((function(t,e){return t-e}))}},{key:"slice",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.keys.length>e){var r=n?this.keys.slice(0,-e):this.keys.slice(e);r.forEach((function(e){t.collection.delete(e)})),dh(this,Mb,"m",$b).call(this)}return this}},{key:"fill",value:function(t,e,n,r){var i=this,o=e.x,a=e.y,u=e.groupY,c=new Map;t.forEach((function(t){var e=dh(i,Mb,"m",Lb).call(i,t,o,n);if(i.collection.has(e)){var r=c.get(e)||[];c.set(e,[].concat(l(r),[t]))}})),this.keys.forEach((function(t){var e=Wb(c.get(t)||[],(function(t){return dh(i,Mb,"m",Lb).call(i,t,o,r)}));i.get(t).forEach((function(n,r){var o=null;e.hasOwnProperty(n.t)&&(o=dh(i,Mb,"m",Eb).call(i,dh(i,Mb,"m",Db).call(i,e[n.t],a),u)),i.get(t)[r].v=o}))}))}}]),t}();Mb=new WeakSet,Db=function(t,e){return t.map((function(t){return"function"==typeof e?e(t):t[e]}))},Eb=function(t,e){if("string"==typeof e)switch(e){case"sum":return t.reduce((function(t,e){return t+e}),0);case"count":return t.length;case"min":return Math.min.apply(Math,l(t))||null;case"max":return Math.max.apply(Math,l(t))||null;case"average":return t.length>0?t.reduce((function(t,e){return t+e}),0)/t.length:null;default:return null}else if("function"==typeof e)return e(t);return null},Lb=function(t,e,n){var r="function"==typeof e?e(t):t[e];if("string"==typeof r){var i=this.dateHelper.date(r);if(!i.isValid())return 0;r=+i}return n(r)},$b=function(){this.keys=Array.from(this.collection.keys()).map((function(t){return parseInt(t,10)})).sort((function(t,e){return t-e}));var t=this.keys;return this.min=t[0],this.max=t[t.length-1],this.keys};var Hb="graph-label",Gb=function(){function t(e){a(this,t),Pb.add(this),this.calendar=e}return c(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options.domain,r=n.label,i=n.type,o=this.calendar.dateHelper,a=r.text;null!==a&&""!==a&&(void 0===a&&(a=Fb[i]),t.selectAll(".".concat(Hb)).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("text").attr("class",Hb).attr("x",(function(t){return dh(e,Pb,"m",Tb).call(e,t)})).attr("y",(function(t){return dh(e,Pb,"m",Rb).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return dh(e,Pb,"m",Ab).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return dh(e,Pb,"m",Nb).call(e,t)}))}),(function(t){t.attr("x",(function(t){return dh(e,Pb,"m",Tb).call(e,t)})).attr("y",(function(t){return dh(e,Pb,"m",Rb).call(e,t)})).attr("text-anchor",r.textAlign).attr("dominant-baseline",(function(){return dh(e,Pb,"m",Ab).call(e)})).text((function(t,e,n){return o.format(t,a,n[e])})).call((function(t){return dh(e,Pb,"m",Nb).call(e,t)}))})))}}]),t}();Pb=new WeakSet,Ab=function(){var t=this.calendar.options.options.domain.label,e=t.position,n=t.rotate;return["top","bottom"].includes(e)?"middle":"left"===n&&"left"===e||"right"===n&&"right"===e?"bottom":"hanging"},Tb=function(t){var e=this.calendar.options.options.domain,n=e.padding,r=e.label,i=r.position,o=r.textAlign,a=r.offset,u=this.calendar.options.options.x.domainHorizontalLabelWidth,c=n[mp.LEFT];return"right"===i&&(c+=dh(this,Pb,"m",Cb).call(this,t)),"middle"===o&&(["top","bottom"].includes(i)?c+=dh(this,Pb,"m",Cb).call(this,t)/2:c+=u/2),"end"===o&&(["top","bottom"].includes(i)?c+=dh(this,Pb,"m",Cb).call(this,t):c+=u),c+a.x},Rb=function(t){var e=this.calendar.options.options,n=e.domain,r=n.label,i=r.position,o=r.offset,a=n.padding,u=e.x,c=a[mp.TOP]+u.domainVerticalLabelHeight/2;return"bottom"===i&&(c+=dh(this,Pb,"m",Ib).call(this,t)),c+o.y},Cb=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.x;return this.calendar.calendarPainter.domainPainter.coordinates.get(t).inner_width-r.domainHorizontalLabelWidth-n[mp.RIGHT]-n[mp.LEFT]},Ib=function(t){var e=this.calendar.options.options,n=e.x,r=e.domain.padding;return this.calendar.calendarPainter.domainPainter.coordinates.get(t).inner_height-n.domainVerticalLabelHeight-r[mp.TOP]-r[mp.BOTTOM]},Nb=function(t){var e=this,n=this.calendar.options.options,r=n.domain.label,i=r.rotate,o=r.textAlign,a=r.position,u=n.x.domainHorizontalLabelWidth;switch(i){case"right":t.attr("transform",(function(t){var n=dh(e,Pb,"m",Cb).call(e,t),r=dh(e,Pb,"m",Ib).call(e,t),i=["rotate(90, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"middle"===o?i.push("translate(".concat(r/2-u/2,")")):"end"===o&&i.push("translate(".concat(r-u,")"));break;case"left":"start"===o?i.push("translate(".concat(u,")")):"middle"===o?i.push("translate(".concat(u/2+r/2,")")):"end"===o&&i.push("translate(".concat(r,")"))}return i.join(",")}));break;case"left":t.attr("transform",(function(t){var n=dh(e,Pb,"m",Cb).call(e,t),r=dh(e,Pb,"m",Ib).call(e,t),i=["rotate(270, ".concat("right"===a?n:u,", 0)")];switch(a){case"right":"start"===o?i.push("translate(-".concat(r,")")):"middle"===o?i.push("translate(-".concat(r/2+u/2,")")):"end"===o&&i.push("translate(-".concat(u,")"));break;case"left":"start"===o?i.push("translate(".concat(u-r,")")):"middle"===o&&i.push("translate(".concat(u/2-r/2,")"))}return i.join(",")}))}};var Ub,qb,Vb=Nt,Kb=D,Zb=y.RegExp,Jb=Kb((function(){var t=Zb("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Xb=Jb||Kb((function(){return!Zb("a","y").sticky})),Qb=Jb||Kb((function(){var t=Zb("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),tw={BROKEN_CARET:Qb,MISSED_STICKY:Xb,UNSUPPORTED_Y:Jb},ew=D,nw=y.RegExp,rw=ew((function(){var t=nw(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),iw=D,ow=y.RegExp,aw=iw((function(){var t=ow("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),uw=Wt,cw=T,sw=rf,lw=function(){var t=Vb(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},fw=tw,hw=Cs,dw=gn.get,pw=rw,vw=aw,yw=m("native-string-replace",String.prototype.replace),mw=RegExp.prototype.exec,gw=mw,bw=cw("".charAt),ww=cw("".indexOf),xw=cw("".replace),Ow=cw("".slice),Sw=(qb=/b*/g,uw(mw,Ub=/a/,"a"),uw(mw,qb,"a"),0!==Ub.lastIndex||0!==qb.lastIndex),kw=fw.BROKEN_CARET,jw=void 0!==/()??/.exec("")[1];(Sw||jw||kw||pw||vw)&&(gw=function(t){var e,n,r,i,o,a,u,c=this,s=dw(c),l=sw(t),f=s.raw;if(f)return f.lastIndex=c.lastIndex,e=uw(gw,f,l),c.lastIndex=f.lastIndex,e;var h=s.groups,d=kw&&c.sticky,p=uw(lw,c),v=c.source,y=0,m=l;if(d&&(p=xw(p,"y",""),-1===ww(p,"g")&&(p+="g"),m=Ow(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==bw(l,c.lastIndex-1))&&(v="(?: "+v+")",m=" "+m,y++),n=new RegExp("^(?:"+v+")",p)),jw&&(n=new RegExp("^"+v+"$(?!\\s)",p)),Sw&&(r=c.lastIndex),i=uw(mw,d?n:c,m),d?i?(i.input=Ow(i.input,y),i[0]=Ow(i[0],y),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:Sw&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),jw&&i&&i.length>1&&uw(yw,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&h)for(i.groups=a=hw(null),o=0;o<h.length;o++)a[(u=h[o])[0]]=i[u[1]];return i});var _w=gw;Si({target:"RegExp",proto:!0,forced:/./.exec!==_w},{exec:_w});var Mw,Dw,Ew,Lw,$w=ko,Pw=Yn,Aw=_w,Tw=D,Rw=yt,Cw=Qe,Iw=Rw("species"),Nw=RegExp.prototype,zw=function(t,e,n,r){var i=Rw(t),o=!Tw((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),a=o&&!Tw((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[Iw]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!o||!a||n){var u=$w(/./[i]),c=e(i,""[t],(function(t,e,n,r,i){var a=$w(t),c=e.exec;return c===Aw||c===Nw.exec?o&&!i?{done:!0,value:u(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));Pw(String.prototype,t,c[0]),Pw(Nw,i,c[1])}r&&Cw(Nw[i],"sham",!0)},Yw=Mt,Ww=Hn,Fw=yt("match"),Bw=df.charAt,Hw=function(t,e,n){return e+(n?Bw(t,e).length:1)},Gw=Wt,Uw=Nt,qw=Ot,Vw=Hn,Kw=_w,Zw=TypeError,Jw=function(t,e){var n=t.exec;if(qw(n)){var r=Gw(n,t,e);return null!==r&&Uw(r),r}if("RegExp"===Vw(t))return Gw(Kw,t,e);throw Zw("RegExp#exec called on incompatible receiver")},Xw=xo,Qw=Wt,tx=T,ex=zw,nx=Nt,rx=R,ix=function(t){var e;return Yw(t)&&(void 0!==(e=t[Fw])?!!e:"RegExp"==Ww(t))},ox=N,ax=yo,ux=Hw,cx=Ar,sx=rf,lx=ae,fx=nd,hx=Jw,dx=_w,px=D,vx=tw.UNSUPPORTED_Y,yx=4294967295,mx=Math.min,gx=[].push,bx=tx(/./.exec),wx=tx(gx),xx=tx("".slice),Ox=!px((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));ex("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=sx(ox(this)),i=void 0===n?yx:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!ix(t))return Qw(e,r,t,i);for(var o,a,u,c=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,f=new RegExp(t.source,s+"g");(o=Qw(dx,f,r))&&!((a=f.lastIndex)>l&&(wx(c,xx(r,l,o.index)),o.length>1&&o.index<r.length&&Xw(gx,c,fx(o,1)),u=o[0].length,l=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===r.length?!u&&bx(f,"")||wx(c,""):wx(c,xx(r,l)),c.length>i?fx(c,0,i):c}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:Qw(e,this,t,n)}:e,[function(e,n){var i=ox(this),o=rx(e)?void 0:lx(e,t);return o?Qw(o,e,i,n):Qw(r,sx(i),e,n)},function(t,i){var o=nx(this),a=sx(t),u=n(r,o,a,i,r!==e);if(u.done)return u.value;var c=ax(o,RegExp),s=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(vx?"g":"y"),f=new c(vx?"^(?:"+o.source+")":o,l),h=void 0===i?yx:i>>>0;if(0===h)return[];if(0===a.length)return null===hx(f,a)?[a]:[];for(var d=0,p=0,v=[];p<a.length;){f.lastIndex=vx?0:p;var y,m=hx(f,vx?xx(a,p):a);if(null===m||(y=mx(cx(f.lastIndex+(vx?p:0)),a.length))===d)p=ux(a,p,s);else{if(wx(v,xx(a,d,p)),v.length===h)return v;for(var g=1;g<=m.length-1;g++)if(wx(v,m[g]),v.length===h)return v;p=d=y}}return wx(v,xx(a,d)),v}]}),!Ox,vx);var Sx="sublabel",kx="||",jx=function(){function t(e){a(this,t),Mw.add(this),this.calendar=e,this.dimensions={width:0,height:0}}return c(t,[{key:"paint",value:function(t){var e=this,n=this.calendar.options.options,r=n.domain.subLabel,i=n.subDomain;if(!r)return this.dimensions={width:0,height:0},t.select(".".concat(Sx)).remove(),Promise.resolve();var o=r.radius,a=r.text,u=r.width,c=r.height,s=r.gutter,l=r.textAlign;u||(u=i.width),c||(c=i.height),s||(s=i.gutter),l||(l="start");var f=a().map((function(t,e){return"".concat(e).concat(kx).concat(t)}));this.dimensions={width:u+s,height:c+f.length*c*f.length-1};var h=t.select(".".concat(Sx));return h.empty()&&(h=t.append("svg").attr("class",Sx).attr("x",0).attr("y",0)),h.selectAll("g").data(f).join((function(t){return t.append("g").call((function(t){return t.append("rect").attr("class","".concat(Sx,"-rect")).attr("style","fill: transparent;").attr("x",0).call((function(t){return dh(e,Mw,"m",Dw).call(e,t,u,c,s,o)}))})).call((function(t){return t.append("text").attr("class","".concat(Sx,"-text")).attr("dominant-baseline","central").attr("text-anchor","middle").call((function(t){return dh(e,Mw,"m",Ew).call(e,t,u,c,s,l)}))}))}),(function(t){return t.call((function(t){return t.selectAll("rect").call((function(t){return dh(e,Mw,"m",Dw).call(e,t,u,c,s,o)}))})).call((function(t){return t.selectAll("text").call((function(t){return dh(e,Mw,"m",Ew).call(e,t,u,c,s,l)}))}))})),Promise.resolve()}}]),t}();Mw=new WeakSet,Dw=function(t,e,n,r,i){t.attr("width",e).attr("height",n).attr("rx",i&&i>0?i:null).attr("ry",i&&i>0?i:null).attr("y",(function(t){return+t.split(kx)[0]*(n+r)}))},Ew=function(t,e,n,r,i){t.attr("text-anchor",i).attr("x",dh(this,Mw,"m",Lw).call(this,i,e)).attr("y",(function(t){return+t.split(kx)[0]*(n+r)+n/2})).text((function(t){return t.split(kx)[1]}))},Lw=function(t,e){switch(t){case"start":default:return 0;case"middle":return e/2;case"end":return e}};var _x,Mx,Dx,Ex,Lx,$x,Px,Ax=ze.PROPER,Tx=D,Rx=My,Cx=Cy.trim;Si({target:"String",proto:!0,forced:function(t){return Tx((function(){return!!Rx[t]()||"​᠎"!=="​᠎"[t]()||Ax&&Rx[t].name!==t}))}("trim")},{trim:function(){return Cx(this)}});var Ix,Nx,zx,Yx,Wx="graph-subdomain-group",Fx=function(){function t(e){a(this,t),_x.add(this),this.calendar=e,this.root=null}return c(t,[{key:"paint",value:function(t){var e=this;this.root=t||this.root;var n=this.root.selectAll(".".concat(Wx)).data((function(t){return[t]}),(function(t){return t})).join((function(t){return t.append("svg").call((function(t){return dh(e,_x,"m",Mx).call(e,t)})).attr("class",Wx)}),(function(t){return t.call((function(t){return dh(e,_x,"m",Mx).call(e,t)}))})),r=this.calendar.options.options.subDomain,i=r.radius,o=r.width,a=r.height,u=this.calendar.eventEmitter;n.selectAll("g").data((function(t){return e.calendar.domainCollection.get(t)})).join((function(t){return t.append("g").call((function(t){return t.insert("rect").attr("class",(function(t){return dh(e,_x,"m",Dx).call(e,t.t,"graph-rect")})).attr("width",o).attr("height",a).attr("x",(function(t){return dh(e,_x,"m",$x).call(e,t)})).attr("y",(function(t){return dh(e,_x,"m",Px).call(e,t)})).on("click",(function(t,e){return u.emit("click",t,e.t,e.v)})).on("mouseover",(function(t,e){return u.emit("mouseover",t,e.t,e.v)})).on("mouseout",(function(t,e){return u.emit("mouseout",t,e.t,e.v)})).attr("rx",i>0?i:null).attr("ry",i>0?i:null)})).call((function(t){return dh(e,_x,"m",Ex).call(e,t)}))}),(function(t){return t.selectAll("rect").attr("class",(function(t){return dh(e,_x,"m",Dx).call(e,t.t,"graph-rect")})).attr("width",o).attr("height",a).attr("x",(function(t){return dh(e,_x,"m",$x).call(e,t)})).attr("y",(function(t){return dh(e,_x,"m",Px).call(e,t)})).attr("rx",i).attr("ry",i)}))}}]),t}();_x=new WeakSet,Mx=function(t){var e=this.calendar.options.options,n=e.domain.padding,r=e.domain.label.position;t.attr("x",(function(){var t=n[mp.LEFT];return"left"===r&&(t+=e.x.domainHorizontalLabelWidth),t})).attr("y",(function(){var t=n[mp.TOP];return"top"===r&&(t+=e.x.domainVerticalLabelHeight),t}))},Dx=function(t){var e=this,n=this.calendar.options.options,r=n.date,i=n.subDomain,o="";r.highlight.length>0&&r.highlight.forEach((function(n){var r=e.calendar.templateCollection.get(i.type).extractUnit;r(+n)===r(t)&&(o="highlight")}));for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];return[o].concat(u).join(" ").trim()},Ex=function(t){var e=this,n=this.calendar.options.options,r=n.subDomain.label,i=this.calendar.dateHelper;return r?t.append("text").attr("class",(function(t){return dh(e,_x,"m",Dx).call(e,t.t,"subdomain-text")})).attr("x",(function(t){return dh(e,_x,"m",$x).call(e,t)+n.subDomain.width/2})).attr("y",(function(t){return dh(e,_x,"m",Px).call(e,t)+n.subDomain.height/2})).attr("text-anchor","middle").attr("dominant-baseline","central").text((function(t,e,n){return i.format(t.t,r,t.v,n[e])})):null},Lx=function(t,e){var n=this.calendar.options.options.subDomain;return e[t]*(n["x"===t?"width":"height"]+n.gutter)},$x=function(t){return dh(this,_x,"m",Lx).call(this,"x",t)},Px=function(t){return dh(this,_x,"m",Lx).call(this,"y",t)};var Bx=function(){function e(t){a(this,e),Ix.add(this),this.calendar=t,this.dimensions={width:0,height:0},this.root=null,this.domainPainter=new ny(t),this.subDomainPainter=new Fx(t),this.domainLabelPainter=new Gb(t),this.domainSubLabelPainter=new jx(t)}return c(e,[{key:"setup",value:function(){var e=this.calendar.options.options.itemSelector;return this.root||(this.root=t.select(e).append("svg").attr("class","cal-heatmap-container"),this.root.attr("x",0).attr("y",0).append("svg").attr("class","graph").attr("style","fill: transparent;")),this.calendar.pluginManager.setupAll(),!0}},{key:"paint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yp.SCROLL_NONE;this.domainSubLabelPainter.paint(this.root),this.root.select(".graph").transition().duration(this.calendar.options.options.animationDuration).attr("x",this.domainSubLabelPainter.dimensions.width);var e=this.domainPainter.paint(t,this.root);return this.subDomainPainter.paint(this.domainPainter.root),this.domainLabelPainter.paint(this.domainPainter.root),e=e.concat(this.calendar.pluginManager.paintAll()),dh(this,Ix,"m",Yx).call(this),Promise.allSettled(e)}},{key:"destroy",value:function(){var t=[];return t=t.concat(this.calendar.pluginManager.destroyAll()),this.root?(t.push(this.root.transition().duration(this.calendar.options.options.animationDuration).attr("width",0).attr("height",0).remove().end()),Promise.allSettled(t)):Promise.allSettled(t)}}]),e}();Ix=new WeakSet,Nx=function(){var t=this.calendar.options.options;return this.domainPainter.dimensions.height-(t.verticalOrientation?t.domain.gutter:0)},zx=function(){var t=this.calendar.options.options;return this.domainPainter.dimensions.width-(t.verticalOrientation?0:t.domain.gutter)+this.domainSubLabelPainter.dimensions.width},Yx=function(){var t=this.calendar.options.options,e=dh(this,Ix,"m",zx).call(this),n=dh(this,Ix,"m",Nx).call(this);this.root.transition().duration(t.animationDuration).attr("width",e).attr("height",n),e===this.dimensions.width&&n===this.dimensions.height||this.calendar.eventEmitter.emit("resize",e,n,this.dimensions.width,this.dimensions.height),this.dimensions={width:e,height:n}};const Hx=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Gx(t,e){return Hx.test(t+="")?new Date(t):"function"==typeof e?e(t):e}const Ux=new Map([["second",n.utcSecond],["minute",n.utcMinute],["hour",n.utcHour],["day",n.utcDay],["week",n.utcWeek],["month",n.utcMonth],["year",n.utcYear],["monday",n.utcMonday],["tuesday",n.utcTuesday],["wednesday",n.utcWednesday],["thursday",n.utcThursday],["friday",n.utcFriday],["saturday",n.utcSaturday],["sunday",n.utcSunday]]);const qx=Object.getPrototypeOf(Uint8Array),Vx=Object.prototype.toString,Kx=t=>()=>t;function Zx(t,e){return null==t?t:void 0===e?t instanceof Array||t instanceof qx?t:Array.from(t):t instanceof e?t:e.from(t)}function Jx(t,e,n=Array){return t instanceof n?t.map(e):n.from(t,e)}function Xx(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Qx(t){return function(t){return t?.toString===Vx}(t)&&(void 0!==t.type||void 0!==t.domain)}function tO(t){if(null!=t){if("number"==typeof t){const e=t;return{floor:t=>e*Math.floor(t/e),offset:t=>t+e,range:(t,r)=>n.range(Math.ceil(t/e),r/e).map((t=>e*t))}}if("string"==typeof t)return function(t){const e=Ux.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown interval: ${t}`);return e}(t);if("function"!=typeof t.floor)throw new Error("invalid interval; missing floor method");if("function"!=typeof t.offset)throw new Error("invalid interval; missing offset method");return t}}function eO(t){for(const e of t){if(null==e)continue;const t=typeof e;return"string"===t||"boolean"===t}}function nO(t){for(const e of t)if(null!=e)return e instanceof Date}function rO(t){for(const e of t)if(null!=e)return"string"==typeof e&&isNaN(e)&&Gx(e)}function iO(t){for(const e of t)if(null!=e){if("string"!=typeof e)return!1;if(e.trim())return!isNaN(e)}}function oO(t,e){for(const n of t)if(null!=n)return e(n)}function aO(t,e){for(const n of t)if(null!=n&&!e(n))return!1;return!0}function uO(t){return"string"==typeof t&&("none"===(t=t.toLowerCase().trim())||"currentcolor"===t||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||null!==n.color(t))}function cO(t){if(null==t)return;const e=t[0],r=t[t.length-1];return n.descending(e,r)}const sO=Symbol("position"),lO=Symbol("color"),fO=Symbol("radius"),hO=Symbol("length"),dO=Symbol("opacity"),pO=Symbol("symbol"),vO=new Map([["x",sO],["y",sO],["fx",sO],["fy",sO],["r",fO],["color",lO],["opacity",dO],["symbol",pO],["length",hO]]);function yO(t){return null!=t&&!Number.isNaN(t)}function mO(t,e){return+yO(e)-+yO(t)||n.ascending(t,e)}function gO(t){return isFinite(t)?t:NaN}function bO(t){return t>0&&isFinite(t)?t:NaN}function wO(t){return t<0&&isFinite(t)?t:NaN}const xO=new Map([["accent",n.schemeAccent],["category10",n.schemeCategory10],["dark2",n.schemeDark2],["paired",n.schemePaired],["pastel1",n.schemePastel1],["pastel2",n.schemePastel2],["set1",n.schemeSet1],["set2",n.schemeSet2],["set3",n.schemeSet3],["tableau10",n.schemeTableau10],["brbg",SO(n.schemeBrBG,n.interpolateBrBG)],["prgn",SO(n.schemePRGn,n.interpolatePRGn)],["piyg",SO(n.schemePiYG,n.interpolatePiYG)],["puor",SO(n.schemePuOr,n.interpolatePuOr)],["rdbu",SO(n.schemeRdBu,n.interpolateRdBu)],["rdgy",SO(n.schemeRdGy,n.interpolateRdGy)],["rdylbu",SO(n.schemeRdYlBu,n.interpolateRdYlBu)],["rdylgn",SO(n.schemeRdYlGn,n.interpolateRdYlGn)],["spectral",SO(n.schemeSpectral,n.interpolateSpectral)],["burd",kO(n.schemeRdBu,n.interpolateRdBu)],["buylrd",kO(n.schemeRdYlBu,n.interpolateRdYlBu)],["blues",OO(n.schemeBlues,n.interpolateBlues)],["greens",OO(n.schemeGreens,n.interpolateGreens)],["greys",OO(n.schemeGreys,n.interpolateGreys)],["oranges",OO(n.schemeOranges,n.interpolateOranges)],["purples",OO(n.schemePurples,n.interpolatePurples)],["reds",OO(n.schemeReds,n.interpolateReds)],["turbo",jO(n.interpolateTurbo)],["viridis",jO(n.interpolateViridis)],["magma",jO(n.interpolateMagma)],["inferno",jO(n.interpolateInferno)],["plasma",jO(n.interpolatePlasma)],["cividis",jO(n.interpolateCividis)],["cubehelix",jO(n.interpolateCubehelixDefault)],["warm",jO(n.interpolateWarm)],["cool",jO(n.interpolateCool)],["bugn",OO(n.schemeBuGn,n.interpolateBuGn)],["bupu",OO(n.schemeBuPu,n.interpolateBuPu)],["gnbu",OO(n.schemeGnBu,n.interpolateGnBu)],["orrd",OO(n.schemeOrRd,n.interpolateOrRd)],["pubu",OO(n.schemePuBu,n.interpolatePuBu)],["pubugn",OO(n.schemePuBuGn,n.interpolatePuBuGn)],["purd",OO(n.schemePuRd,n.interpolatePuRd)],["rdpu",OO(n.schemeRdPu,n.interpolateRdPu)],["ylgn",OO(n.schemeYlGn,n.interpolateYlGn)],["ylgnbu",OO(n.schemeYlGnBu,n.interpolateYlGnBu)],["ylorbr",OO(n.schemeYlOrBr,n.interpolateYlOrBr)],["ylorrd",OO(n.schemeYlOrRd,n.interpolateYlOrRd)],["rainbow",_O(n.interpolateRainbow)],["sinebow",_O(n.interpolateSinebow)]]);function OO(t,e){return({length:r})=>1===r?[t[3][1]]:2===r?[t[3][1],t[3][2]]:(r=Math.max(3,Math.floor(r)))>9?n.quantize(e,r):t[r]}function SO(t,e){return({length:r})=>2===r?[t[3][0],t[3][2]]:(r=Math.max(3,Math.floor(r)))>11?n.quantize(e,r):t[r]}function kO(t,e){return({length:r})=>2===r?[t[3][2],t[3][0]]:(r=Math.max(3,Math.floor(r)))>11?n.quantize((t=>e(1-t)),r):t[r].slice().reverse()}function jO(t){return({length:e})=>n.quantize(t,Math.max(2,Math.floor(e)))}function _O(t){return({length:e})=>n.quantize(t,Math.floor(e)+1).slice(0,-1)}function MO(t){const e=`${t}`.toLowerCase();if(!xO.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return xO.get(e)}function DO(t,e){const n=MO(t),r="function"==typeof n?n({length:e}):n;return r.length!==e?r.slice(0,e):r}const EO=new Map([["brbg",n.interpolateBrBG],["prgn",n.interpolatePRGn],["piyg",n.interpolatePiYG],["puor",n.interpolatePuOr],["rdbu",n.interpolateRdBu],["rdgy",n.interpolateRdGy],["rdylbu",n.interpolateRdYlBu],["rdylgn",n.interpolateRdYlGn],["spectral",n.interpolateSpectral],["burd",t=>n.interpolateRdBu(1-t)],["buylrd",t=>n.interpolateRdYlBu(1-t)],["blues",n.interpolateBlues],["greens",n.interpolateGreens],["greys",n.interpolateGreys],["purples",n.interpolatePurples],["reds",n.interpolateReds],["oranges",n.interpolateOranges],["turbo",n.interpolateTurbo],["viridis",n.interpolateViridis],["magma",n.interpolateMagma],["inferno",n.interpolateInferno],["plasma",n.interpolatePlasma],["cividis",n.interpolateCividis],["cubehelix",n.interpolateCubehelixDefault],["warm",n.interpolateWarm],["cool",n.interpolateCool],["bugn",n.interpolateBuGn],["bupu",n.interpolateBuPu],["gnbu",n.interpolateGnBu],["orrd",n.interpolateOrRd],["pubugn",n.interpolatePuBuGn],["pubu",n.interpolatePuBu],["purd",n.interpolatePuRd],["rdpu",n.interpolateRdPu],["ylgnbu",n.interpolateYlGnBu],["ylgn",n.interpolateYlGn],["ylorbr",n.interpolateYlOrBr],["ylorrd",n.interpolateYlOrRd],["rainbow",n.interpolateRainbow],["sinebow",n.interpolateSinebow]]);function LO(t){const e=`${t}`.toLowerCase();if(!EO.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return EO.get(e)}const $O=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function PO(t){return null!=t&&$O.has(`${t}`.toLowerCase())}const AO=t=>e=>t(1-e),TO=[0,1],RO=new Map([["number",n.interpolateNumber],["rgb",n.interpolateRgb],["hsl",n.interpolateHsl],["hcl",n.interpolateHcl],["lab",n.interpolateLab]]);function CO(t){const e=`${t}`.toLowerCase();if(!RO.has(e))throw new Error(`unknown interpolator: ${e}`);return RO.get(e)}function IO(t,e,r,{type:i,nice:o,clamp:a,zero:u,domain:c=WO(t,r),unknown:s,round:l,scheme:f,interval:h,range:d=(vO.get(t)===fO?BO(r,c):vO.get(t)===hO?HO(r,c):vO.get(t)===dO?TO:void 0),interpolate:p=(vO.get(t)===lO?null==f&&void 0!==d?n.interpolateRgb:LO(void 0!==f?f:"cyclical"===i?"rainbow":"turbo"):l?n.interpolateRound:n.interpolateNumber),reverse:v}){if(h=tO(h),"cyclical"!==i&&"sequential"!==i||(i="linear"),v=!!v,"function"!=typeof p&&(p=CO(p)),1===p.length?(v&&(p=AO(p),v=!1),void 0===d&&2===(d=Float64Array.from(c,((t,e)=>e/(c.length-1)))).length&&(d=TO),e.interpolate((d===TO?Kx:qO)(p))):e.interpolate(p),u){const[t,e]=n.extent(c);(t>0||e<0)&&(cO(c=Xx(c))!==Math.sign(t)?c[c.length-1]=0:c[0]=0)}return v&&(c=n.reverse(c)),e.domain(c).unknown(s),o&&(e.nice(!0===o?void 0:o),c=e.domain()),void 0!==d&&e.range(d),a&&e.clamp(a),{type:i,domain:c,range:d,scale:e,interpolate:p,interval:h}}function NO(t,e,{exponent:r=1,...i}){return IO(t,n.scalePow().exponent(r),e,{...i,type:"pow"})}function zO(t,e,{domain:r=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=(void 0!==a?n.quantize(a,r.length+1):vO.get(t)===lO?DO(o,r.length+1):void 0),reverse:c}){const s=cO(Zx(r));if(!n.pairs(r).every((([t,e])=>function(t,e,r){const i=n.descending(t,e);return 0===i||i===r}(t,e,s))))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=n.reverse(u)),{type:"threshold",scale:n.scaleThreshold(s<0?n.reverse(r):r,void 0===u?[]:u).unknown(i),domain:r,range:u}}function YO(t,e=gO){return t.length?[n.min(t,(({value:t})=>void 0===t?t:n.min(t,e))),n.max(t,(({value:t})=>void 0===t?t:n.max(t,e)))]:[0,1]}function WO(t,e){const n=vO.get(t);return(n===fO||n===dO||n===hO?FO:YO)(e)}function FO(t){return[0,t.length?n.max(t,(({value:t})=>void 0===t?t:n.max(t,gO))):1]}function BO(t,e){const r=t.find((({radius:t})=>void 0!==t));if(void 0!==r)return[0,r.radius];const i=n.quantile(t,.5,(({value:t})=>void 0===t?NaN:n.quantile(t,.25,bO))),o=e.map((t=>3*Math.sqrt(t/i))),a=30/n.max(o);return a<1?o.map((t=>t*a)):o}function HO(t,e){const r=n.median(t,(({value:t})=>void 0===t?NaN:n.median(t,Math.abs))),i=e.map((t=>12*t/r)),o=60/n.max(i);return o<1?i.map((t=>t*o)):i}function GO(t){for(const{value:e}of t)if(void 0!==e)for(let n of e){if(n=+n,n>0)return YO(t,bO);if(n<0)return YO(t,wO)}return[1,10]}function UO(t){const e=[];for(const{value:n}of t)if(void 0!==n)for(const t of n)e.push(t);return e}function qO(t){return(e,n)=>r=>t(e+r*(n-e))}function VO(t,e,r,i,{type:o,nice:a,clamp:u,domain:c=YO(i),unknown:s,pivot:l=0,scheme:f,range:h,symmetric:d=!0,interpolate:p=(vO.get(t)===lO?null==f&&void 0!==h?n.interpolateRgb:LO(void 0!==f?f:"rdbu"):n.interpolateNumber),reverse:v}){l=+l;let[y,m]=c;if(n.descending(y,m)<0&&([y,m]=[m,y],v=!v),y=Math.min(y,l),m=Math.max(m,l),"function"!=typeof p&&(p=CO(p)),void 0!==h&&(p=1===p.length?qO(p)(...h):n.piecewise(p,h)),v&&(p=AO(p)),d){const t=r.apply(l),e=t-r.apply(y),n=r.apply(m)-t;e<n?y=r.invert(t-n):e>n&&(m=r.invert(t+e))}return e.domain([y,l,m]).unknown(s).interpolator(p),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[y,m],pivot:l,interpolate:p,scale:e}}function KO(t,e,{exponent:r=1,...i}){return VO(t,n.scaleDivergingPow().exponent(r=+r),function(t){return.5===t?QO:{apply:e=>Math.sign(e)*Math.pow(Math.abs(e),t),invert:e=>Math.sign(e)*Math.pow(Math.abs(e),1/t)}}(r),e,{...i,type:"diverging-pow"})}function ZO(t,e,{constant:r=1,...i}){return VO(t,n.scaleDivergingSymlog().constant(r=+r),function(t){return{apply:e=>Math.sign(e)*Math.log1p(Math.abs(e/t)),invert:e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}}(r),e,i)}const JO={apply:t=>t,invert:t=>t},XO={apply:Math.log,invert:Math.exp},QO={apply:t=>Math.sign(t)*Math.sqrt(Math.abs(t)),invert:t=>Math.sign(t)*(t*t)};function tS(t,e,n,r){return IO(t,e,n,r)}const eS=2/Math.sqrt(3),nS={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*eS,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},rS=new Map([["asterisk",n.symbolAsterisk],["circle",n.symbolCircle],["cross",n.symbolCross],["diamond",n.symbolDiamond],["diamond2",n.symbolDiamond2],["hexagon",nS],["plus",n.symbolPlus],["square",n.symbolSquare],["square2",n.symbolSquare2],["star",n.symbolStar],["times",n.symbolTimes],["triangle",n.symbolTriangle],["triangle2",n.symbolTriangle2],["wye",n.symbolWye]]);function iS(t){return t&&"function"==typeof t.draw}function oS(t){return!!iS(t)||"string"==typeof t&&rS.has(t.toLowerCase())}function aS(t){if(null==t||iS(t))return t;const e=rS.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}const uS=Symbol("ordinal");function cS(t,e,r,{type:i,interval:o,domain:a,range:u,reverse:c,hint:s}){return o=tO(o),void 0===a&&(a=fS(r,o,t)),"categorical"!==i&&i!==uS||(i="ordinal"),c&&(a=n.reverse(a)),e.domain(a),void 0!==u&&("function"==typeof u&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:s,interval:o}}function sS(t,e,{type:r,interval:i,domain:o,range:a,scheme:u,unknown:c,...s}){let l;if(i=tO(i),void 0===o&&(o=fS(e,i,t)),vO.get(t)===pO)l=function(t){return{fill:hS(t,"fill"),stroke:hS(t,"stroke")}}(e),a=void 0===a?function(t){return e=t.fill,null==e||function(t){return/^\s*none\s*$/i.test(t)}(e)?n.symbolsStroke:n.symbolsFill;var e}(l):Jx(a,aS);else if(vO.get(t)===lO&&(void 0!==a||"ordinal"!==r&&r!==uS||(a=function(t,e="greys"){const n=new Set,[r,i]=DO(e,2);for(const e of t)if(null!=e)if(!0===e)n.add(i);else{if(!1!==e)return;n.add(r)}return[...n]}(o,u),void 0!==a&&(u=void 0)),void 0===u&&void 0===a&&(u="ordinal"===r?"turbo":"tableau10"),void 0!==u))if(void 0!==a){const t=LO(u),e=a[0],r=a[1]-a[0];a=({length:i})=>n.quantize((n=>t(e+r*n)),i)}else a=MO(u);if(c===n.scaleImplicit)throw new Error("implicit unknown is not supported");return cS(t,n.scaleOrdinal().unknown(c),e,{...s,type:r,domain:o,range:a,hint:l})}function lS(t,e,n,r){let{round:i}=n;return void 0!==i&&t.round(i=!!i),(t=cS(r,t,e,n)).round=i,t}function fS(t,e,r){const i=new n.InternSet;for(const{value:e,domain:n}of t){if(void 0!==n)return n();if(void 0!==e)for(const t of e)i.add(t)}if(void 0!==e){const[t,r]=n.extent(i).map(e.floor,e);return e.range(t,e.offset(r))}if(i.size>1e4&&vO.get(r)===sO)throw new Error("implicit ordinal position domain has more than 10,000 values");return n.sort(i,mO)}function hS(t,e){let n;for(const{hint:r}of t){const t=r?.[e];if(void 0!==t)if(void 0===n)n=t;else if(n!==t)return}return n}function dS(t){console.warn(t)}function pS(t,e,r){return function(t,e=[],r={}){const i=function(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:u}){if("fx"===t||"fy"===t)return"band";"x"!==t&&"y"!==t||null==u||(n=yS);for(const{type:t}of e)if(void 0!==t)if(void 0===n)n=t;else if(n!==t)throw new Error(`scale incompatible with channel: ${n} !== ${t}`);if(n===yS)return;if(void 0!==n)return n;if(void 0===r&&!e.some((({value:t})=>void 0!==t)))return;const c=vO.get(t);if(c===lO&&void 0===i&&void 0===o&&gS(r,e,uO))return"identity";if(c===pO&&void 0===i&&gS(r,e,oS))return"identity";if(c===fO)return"sqrt";if(c===dO||c===hO)return"linear";if(c===pO)return"ordinal";if((r||i||[]).length>2)return mS(c);if(void 0!==r)return eO(r)?mS(c):nO(r)?"utc":c!==lO||null==a&&!PO(o)?"linear":"diverging";const s=e.map((({value:t})=>t)).filter((t=>void 0!==t));return s.some(eO)?mS(c):s.some(nO)?"utc":c!==lO||null==a&&!PO(o)?"linear":"diverging"}(t,e,r);if(void 0===r.type&&void 0===r.domain&&void 0===r.range&&null==r.interval&&"fx"!==t&&"fy"!==t&&function({type:t}){return"ordinal"===t||"point"===t||"band"===t||t===uS}({type:i})){const n=e.map((({value:t})=>t)).filter((t=>void 0!==t));n.some(nO)?dS(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${vS(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${vS(i)}".`):n.some(rO)?dS(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${vS(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${vS(i)}".`):n.some(iO)&&dS(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${vS(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${vS(i)}".`)}switch(r.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=bS(e,r,OS);break;case"identity":switch(vO.get(t)){case sO:r=bS(e,r,OS);break;case pO:r=bS(e,r,wS)}break;case"utc":case"time":r=bS(e,r,xS)}switch(i){case"diverging":return function(t,e,r){return VO(t,n.scaleDiverging(),JO,e,r)}(t,e,r);case"diverging-sqrt":return function(t,e,n){return KO(t,e,{...n,exponent:.5})}(t,e,r);case"diverging-pow":return KO(t,e,r);case"diverging-log":return function(t,e,{base:r=10,pivot:i=1,domain:o=YO(e,i<0?wO:bO),...a}){return VO(t,n.scaleDivergingLog().base(r=+r),XO,e,{domain:o,pivot:i,...a})}(t,e,r);case"diverging-symlog":return ZO(t,e,r);case"categorical":case"ordinal":case uS:return sS(t,e,r);case"cyclical":case"sequential":case"linear":return function(t,e,r){return IO(t,n.scaleLinear(),e,r)}(t,e,r);case"sqrt":return function(t,e,n){return NO(t,e,{...n,exponent:.5})}(t,e,r);case"threshold":return zO(t,0,r);case"quantile":return function(t,e,{range:r,quantiles:i=(void 0===r?5:(r=[...r]).length),n:o=i,scheme:a="rdylbu",domain:u=UO(e),interpolate:c,reverse:s}){return void 0===r&&(r=void 0!==c?n.quantize(c,o):vO.get(t)===lO?DO(a,o):void 0),u.length>0&&(u=n.scaleQuantile(u,void 0===r?{length:o}:r).quantiles()),zO(t,0,{domain:u,range:r,reverse:s})}(t,e,r);case"quantize":return function(t,e,{range:r,n:i=(void 0===r?5:(r=[...r]).length),scheme:o="rdylbu",domain:a=WO(t,e),unknown:u,interpolate:c,reverse:s}){const[l,f]=n.extent(a);let h;return void 0===r?(h=n.ticks(l,f,i),h[0]<=l&&h.splice(0,1),h[h.length-1]>=f&&h.pop(),i=h.length+1,r=void 0!==c?n.quantize(c,i):vO.get(t)===lO?DO(o,i):void 0):(h=n.quantize(n.interpolateNumber(l,f),i+1).slice(1,-1),l instanceof Date&&(h=h.map((t=>new Date(t))))),cO(Zx(a))<0&&h.reverse(),zO(t,0,{domain:h,range:r,reverse:s,unknown:u})}(t,e,r);case"pow":return NO(t,e,r);case"log":return function(t,e,{base:r=10,domain:i=GO(e),...o}){return IO(t,n.scaleLog().base(r),e,{...o,domain:i})}(t,e,r);case"symlog":return function(t,e,{constant:r=1,...i}){return IO(t,n.scaleSymlog().constant(r),e,i)}(t,e,r);case"utc":return function(t,e,r){return tS(t,n.scaleUtc(),e,r)}(t,e,r);case"time":return function(t,e,r){return tS(t,n.scaleTime(),e,r)}(t,e,r);case"point":return function(t,e,{align:r=.5,padding:i=.5,...o}){return lS(n.scalePoint().align(r).padding(i),e,o,t)}(t,e,r);case"band":return function(t,e,{align:r=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=("fx"===t||"fy"===t?0:i),...u}){return lS(n.scaleBand().align(r).paddingInner(o).paddingOuter(a),e,u,t)}(t,e,r);case"identity":return vO.get(t)===sO?{type:"identity",scale:n.scaleIdentity()}:{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}(t,void 0===r?void 0:[{hint:r}],{...e})}function vS(t){return"symbol"==typeof t?t.description:t}const yS={toString:()=>"projection"};function mS(t){switch(t){case sO:return"point";case lO:return uS;default:return"ordinal"}}function gS(t,e,n){return void 0!==t?oO(t,n)&&aO(t,n):e.some((({value:t})=>void 0!==t&&oO(t,n)))&&e.every((({value:t})=>void 0===t||aO(t,n)))}function bS(t,{domain:e,...n},r){for(const e of t)void 0!==e.value&&(e.value=r(e.value));return{domain:void 0===e?e:r(e),...n}}function wS(t){return Jx(t,aS)}function xS(t){return Jx(t,kS)}function OS(t){return function(t){return t instanceof qx}(t)?t:Jx(t,SS,Float64Array)}function SS(t){return null==t?NaN:+t}function kS(t){return t instanceof Date&&!isNaN(t)?t:"string"==typeof t?Gx(t):null==t||isNaN(t=+t)?void 0:new Date(t)}function jS({scale:t,type:e,domain:n,range:r,label:i,interpolate:o,interval:a,transform:u,percent:c,pivot:s}){if("identity"===e)return{type:"identity",apply:t=>t,invert:t=>t};const l=t.unknown?t.unknown():void 0;return{type:e,domain:Xx(n),...void 0!==r&&{range:Xx(r)},...void 0!==u&&{transform:u},...c&&{percent:c},...void 0!==i&&{label:i},...void 0!==l&&{unknown:l},...void 0!==a&&{interval:a},...void 0!==o&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...void 0!==s&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:e=>t(e),...t.invert&&{invert:e=>t.invert(e)}}}var _S=function(){function t(e){a(this,t),this.calendar=e}return c(t,[{key:"populate",value:function(){var t,n,r,i=this.calendar,o=i.options.options,a=null;try{var u=o.scale;a=function(t={}){let e;for(const n in t)if(vO.has(n)&&Qx(t[n])){if(void 0!==e)throw new Error("ambiguous scale definition; multiple scales found");e=jS(pS(n,t[n]))}if(void 0===e)throw new Error("invalid scale definition; no scale found");return e}((t={},n=u.as,r=u,(n=d(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))}catch(t){}i.calendarPainter.root.selectAll(".graph-domain").selectAll("svg").selectAll("g").data((function(t){return i.domainCollection.get(t)||[]})).call((function(t){t.select("rect").style("fill",(function(t){return null==a?void 0:a.apply(t.v)}))})).call((function(t){t.select("text").attr("style",(function(t){var n=e.hcl(null==a?void 0:a.apply(t.v)).l>60?"#000":"#fff",r=o.subDomain.color||(t.v?n:null);return um(r)&&(r=r(t.t,t.v,null==a?void 0:a.apply(t.v))),r?"fill: ".concat(r,";"):null})).text((function(t,e,n){return i.dateHelper.format(t.t,o.subDomain.label,t.v,n[e])}))})).call((function(){i.eventEmitter.emit("fill")}))}}]),t}(),MS=W,DS=vs;function ES(t,e,n){(void 0!==n&&!ug(t[e],n)||void 0===n&&!(e in t))&&Om(t,e,n)}Si({target:"Object",stat:!0,forced:D((function(){DS(1)}))},{keys:function(t){return DS(MS(t))}});var LS="object"==typeof exports&&exports&&!exports.nodeType&&exports,$S=LS&&"object"==typeof module&&module&&!module.nodeType&&module,PS=$S&&$S.exports===LS?Jy.Buffer:void 0,AS=PS?PS.allocUnsafe:void 0;function TS(t,e){var n,r,i=e?(n=t.buffer,r=new n.constructor(n.byteLength),new Og(r).set(new Og(n)),r):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}var RS=Object.create,CS=function(){function t(){}return function(e){if(!am(e))return{};if(RS)return RS(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),IS=Qm(Object.getPrototypeOf,Object);var NS=Function.prototype,zS=Object.prototype,YS=NS.toString,WS=zS.hasOwnProperty,FS=YS.call(Object);function BS(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var HS=Object.prototype.hasOwnProperty;function GS(t,e,n){var r=t[e];HS.call(t,e)&&ug(r,n)&&(void 0!==n||e in t)||Om(t,e,n)}var US=Object.prototype.hasOwnProperty;function qS(t){if(!am(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Xm(t),n=[];for(var r in t)("constructor"!=r||!e&&US.call(t,r))&&n.push(r);return n}function VS(t){return ng(t)?Zm(t,!0):qS(t)}function KS(t){return function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),i?Om(n,u,c):GS(n,u,c)}return n}(t,VS(t))}function ZS(t,e,n,r,i,o,a){var u=BS(t,n),c=BS(e,n),s=a.get(c);if(s)ES(t,n,s);else{var l,f=o?o(u,c,n+"",t,e,a):void 0,h=void 0===f;if(h){var d=yh(c),p=!d&&Im(c),v=!d&&!p&&Vm(c);f=c,d||p||v?yh(u)?f=u:Mm(l=u)&&ng(l)?f=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(u):p?(h=!1,f=function(t,e){if(e)return t.slice();var n=t.length,r=AS?AS(n):new t.constructor(n);return t.copy(r),r}(c,!0)):v?(h=!1,f=TS(c,!0)):f=[]:function(t){if(!Mm(t)||"[object Object]"!=om(t))return!1;var e=IS(t);if(null===e)return!0;var n=WS.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&YS.call(n)==FS}(c)||Am(c)?(f=u,Am(u)?f=KS(u):am(u)&&!um(u)||(f=function(t){return"function"!=typeof t.constructor||Xm(t)?{}:CS(IS(t))}(c))):h=!1}h&&(a.set(c,f),i(f,c,r,o,a),a.delete(c)),ES(t,n,f)}}function JS(t,e,n,r,i){t!==e&&_m(e,(function(o,a){if(i||(i=new gg),am(o))ZS(t,e,a,n,JS,r,i);else{var u=r?r(BS(t,a),o,a+"",t,e,i):void 0;void 0===u&&(u=o),ES(t,a,u)}}),VS)}function XS(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var QS=Math.max;var tk=xm?function(t,e){return xm(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Sb,ek=tk,nk=Date.now;var rk=function(t){var e=0,n=0;return function(){var r=nk(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ek),ik=rk;function ok(t,e){return ik(function(t,e,n){return e=QS(void 0===e?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=QS(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=n(a),XS(t,this,u)}}(t,e,Sb),t+"")}var ak,uk=(ak=function(t,e,n,r){JS(t,e,n,r)},ok((function(t,e){var n=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=ak.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(t,e,n){if(!am(n))return!1;var r=typeof e;return!!("number"==r?ng(n)&&zm(e,n.length):"string"==r&&e in n)&&ug(n[e],t)}(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++n<r;){var a=e[n];a&&ak(t,a,n,i)}return t}))),ck=uk;function sk(t,e){return tb(t,e)}var lk=Object.prototype.hasOwnProperty;function fk(t,e){return null!=t&&lk.call(t,e)}function hk(t,e){return null!=t&&xb(t,e,fk)}function dk(t,e,n){return null==t?t:function(t,e,n,r){if(!am(t))return t;for(var i=-1,o=(e=yb(e,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c=mb(e[i]),s=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=a){var l=u[c];void 0===(s=r?r(l,c,u):void 0)&&(s=am(l)?l:zm(e[i+1])?[]:{})}GS(u,c,s),u=u[c]}return t}(t,e,n)}var pk,vk,yk={range:function(t){return Math.max(+t,1)},"date.highlight":function(t){return mh(t)},"subDomain.label":function(t){return function(t){return"string"==typeof t||!yh(t)&&Mm(t)&&"[object String]"==om(t)}(t)&&""!==t||um(t)?t:null}},mk=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yk;a(this,t),this.preProcessors=e,this.options={itemSelector:"#cal-heatmap",range:12,domain:{type:"hour",gutter:4,padding:[0,0,0,0],dynamicDimension:!0,sort:"asc",label:{text:void 0,position:"bottom",textAlign:"middle",offset:{x:0,y:0},rotate:null,width:100,height:25},subLabel:void 0},subDomain:{type:"minute",width:10,height:10,gutter:2,radius:0,label:null,color:void 0},date:{start:new Date,min:void 0,max:void 0,highlight:[],locale:"en",timezone:void 0},verticalOrientation:!1,data:{source:"",type:"json",requestInit:{},x:"",y:"",groupY:"sum"},scale:{as:"color",type:"quantize",domain:[0,100],scheme:"YlOrBr"},animationDuration:200,x:{domainHorizontalLabelWidth:0,domainVerticalLabelHeight:0}}}return c(t,[{key:"set",value:function(t,e){return!(!hk(this.options,t)||sk(bb(this.options,t),e))&&(dk(this.options,t,hk(this.preProcessors,t)?bb(this.preProcessors,t)(e):e),!0)}},{key:"init",value:function(t){var e=this;this.options=Object.assign({},ck(this.options,t,(function(t,e){return Array.isArray(e)?e:void 0})));var n=this.options;Object.keys(this.preProcessors).forEach((function(t){dk(n,t,bb(e.preProcessors,t)(bb(n,t)))})),n.x.domainVerticalLabelHeight=n.domain.label.height,"top"===n.domain.label.position||"bottom"===n.domain.label.position?n.x.domainHorizontalLabelWidth=0:(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=n.domain.label.width),null!==n.domain.label.text&&""!==n.domain.label.text||(n.x.domainVerticalLabelHeight=0,n.x.domainHorizontalLabelWidth=0)}}]),t}(),gk=T,bk=W,wk=Math.floor,xk=gk("".charAt),Ok=gk("".replace),Sk=gk("".slice),kk=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,jk=/\$([$&'`]|\d{1,2})/g,_k=xo,Mk=Wt,Dk=T,Ek=zw,Lk=D,$k=Nt,Pk=Ot,Ak=R,Tk=_r,Rk=Ar,Ck=rf,Ik=N,Nk=Hw,zk=ae,Yk=function(t,e,n,r,i,o){var a=n+t.length,u=r.length,c=jk;return void 0!==i&&(i=bk(i),c=kk),Ok(o,c,(function(o,c){var s;switch(xk(c,0)){case"$":return"$";case"&":return t;case"`":return Sk(e,0,n);case"'":return Sk(e,a);case"<":s=i[Sk(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>u){var f=wk(l/10);return 0===f?o:f<=u?void 0===r[f-1]?xk(c,1):r[f-1]+xk(c,1):o}s=r[l-1]}return void 0===s?"":s}))},Wk=Jw,Fk=yt("replace"),Bk=Math.max,Hk=Math.min,Gk=Dk([].concat),Uk=Dk([].push),qk=Dk("".indexOf),Vk=Dk("".slice),Kk="$0"==="a".replace(/./,"$0"),Zk=!!/./[Fk]&&""===/./[Fk]("a","$0"),Jk=!Lk((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));Ek("replace",(function(t,e,n){var r=Zk?"$":"$0";return[function(t,n){var r=Ik(this),i=Ak(t)?void 0:zk(t,Fk);return i?Mk(i,t,r,n):Mk(e,Ck(r),t,n)},function(t,i){var o=$k(this),a=Ck(t);if("string"==typeof i&&-1===qk(i,r)&&-1===qk(i,"$<")){var u=n(e,o,a,i);if(u.done)return u.value}var c=Pk(i);c||(i=Ck(i));var s=o.global;if(s){var l=o.unicode;o.lastIndex=0}for(var f=[];;){var h=Wk(o,a);if(null===h)break;if(Uk(f,h),!s)break;""===Ck(h[0])&&(o.lastIndex=Nk(a,Rk(o.lastIndex),l))}for(var d,p="",v=0,y=0;y<f.length;y++){for(var m=Ck((h=f[y])[0]),g=Bk(Hk(Tk(h.index),a.length),0),b=[],w=1;w<h.length;w++)Uk(b,void 0===(d=h[w])?d:String(d));var x=h.groups;if(c){var O=Gk([m],b,g,a);void 0!==x&&Uk(O,x);var S=Ck(_k(i,void 0,O))}else S=Yk(m,a,g,b,x,i);g>=v&&(p+=Vk(a,v,g)+S,v=g+m.length)}return p+Vk(a,v)}]}),!Jk||!Kk||Zk);var Xk=function(){function t(e){a(this,t),pk.add(this),this.options=e}return c(t,[{key:"getDatas",value:function(t,e,n){return hh(this,void 0,void 0,i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!("string"==typeof t&&t.length>0)){r.next=2;break}return r.abrupt("return",dh(this,pk,"m",vk).call(this,t,e,n));case 2:return o=[],Array.isArray(t)&&(o=t),r.abrupt("return",new Promise((function(t){t(o)})));case 5:case"end":return r.stop()}}),r,this)})))}}]),t}();pk=new WeakSet,vk=function(t,e,n){var i=this.options.options.data,o=i.type,a=i.requestInit,u=function(t,e,n){var r=t.replace(/\{\{t:start\}\}/g,"".concat(e/1e3));return(r=(r=r.replace(/\{\{t:end\}\}/g,"".concat(n/1e3))).replace(/\{\{d:start\}\}/g,new Date(e).toISOString())).replace(/\{\{d:end\}\}/g,new Date(n).toISOString())}(t,e,n);switch(o){case"json":return r.json(u,a);case"csv":return r.csv(u,a);case"tsv":return r.dsv("\t",u,a);case"txt":return r.text(u,a);default:return new Promise((function(t){t([])}))}};var Qk=kt,tj=ze.EXISTS,ej=T,nj=St.f,rj=Function.prototype,ij=ej(rj.toString),oj=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,aj=ej(oj.exec);Qk&&!tj&&nj(rj,"name",{configurable:!0,get:function(){try{return aj(oj,ij(this))[1]}catch(t){return""}}});var uj={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",u="day",c="week",s="month",l="quarter",f="year",h="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},g={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,s),o=n-i<0,a=e.clone().add(r+(o?-1:1),s);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:s,y:f,w:c,d:u,D:h,h:a,m:o,s:i,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=y;var x=function(t){return t instanceof j},O=function t(e,n,r){var i;if(!e)return b;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(i=o),n&&(w[o]=n,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var u=e.name;w[u]=e,i=u}return!r&&i&&(b=i),i||!r&&b},S=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new j(n)},k=g;k.l=O,k.i=x,k.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var j=function(){function y(t){this.$L=O(t.locale,null,!0),this.parse(t)}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(k.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return k},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,n){return k.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!k.u(e)||e,l=k.p(t),d=function(t,e){var i=k.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(u)},p=function(t,e){return k.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case f:return r?d(1,0):d(31,11);case s:return r?d(1,y):d(0,y+1);case c:var b=this.$locale().weekStart||0,w=(v<b?v+7:v)-b;return d(r?m-w:m+(6-w),y);case u:case h:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case o:return p(g+"Seconds",2);case i:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,c=k.p(t),l="set"+(this.$u?"UTC":""),d=(n={},n[u]=l+"Date",n[h]=l+"Date",n[s]=l+"Month",n[f]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[c],p=c===u?this.$D+(e-this.$W):e;if(c===s||c===f){var v=this.clone().set(h,1);v.$d[d](p),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[k.p(t)]()},m.add=function(r,l){var h,d=this;r=Number(r);var p=k.p(l),v=function(t){var e=S(d);return k.w(e.date(e.date()+Math.round(t*r)),d)};if(p===s)return this.set(s,this.$M+r);if(p===f)return this.set(f,this.$y+r);if(p===u)return v(1);if(p===c)return v(7);var y=(h={},h[o]=e,h[a]=n,h[i]=t,h)[p]||1,m=this.$d.getTime()+r*y;return k.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,a=this.$m,u=this.$M,c=n.weekdays,s=n.months,l=function(t,n,i,o){return t&&(t[n]||t(e,r))||i[n].slice(0,o)},f=function(t){return k.s(o%12||12,t,"0")},h=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:k.s(u+1,2,"0"),MMM:l(n.monthsShort,u,s,3),MMMM:l(s,u),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:k.s(o,2,"0"),h:f(1),hh:f(2),a:h(o,a,!0),A:h(o,a,!1),m:String(a),mm:k.s(a,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,d){var p,v=k.p(h),y=S(r),m=(y.utcOffset()-this.utcOffset())*e,g=this-y,b=k.m(this,y);return b=(p={},p[f]=b/12,p[s]=b,p[l]=b/3,p[c]=(g-m)/6048e5,p[u]=(g-m)/864e5,p[a]=g/n,p[o]=g/e,p[i]=g/t,p)[v]||g,d?b:k.a(b)},m.daysInMonth=function(){return this.endOf(s).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=O(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return k.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),_=j.prototype;return S.prototype=_,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",u],["$M",s],["$y",f],["$D",h]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,j,S),t.$i=!0),S},S.locale=O,S.isDayjs=x,S.unix=function(t){return S(1e3*t)},S.en=w[b],S.Ls=w,S.p={},S}()}({get exports(){return uj},set exports(t){uj=t}});var cj=uj,sj={};!function(t,e){var n,r;t.exports=(n="week",r="year",function(t,e,i){var o=e.prototype;o.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(r).add(1,r).date(e),a=i(this).endOf(n);if(o.isBefore(a))return 1}var u=i(this).startOf(r).date(e).startOf(n).subtract(1,"millisecond"),c=this.diff(u,n,!0);return c<0?i(this).startOf("week").week():Math.ceil(c)},o.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})}({get exports(){return sj},set exports(t){sj=t}});var lj=sj,fj={};!function(t,e){t.exports=function(t,e,n){e.prototype.dayOfYear=function(t){var e=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"day")}}}({get exports(){return fj},set exports(t){fj=t}});var hj=fj,dj={};!function(t,e){t.exports=function(t,e){e.prototype.weekday=function(t){var e=this.$locale().weekStart||0,n=this.$W,r=(n<e?n+7:n)-e;return this.$utils().u(t)?r:this.subtract(r,"day").add(t,"day")}}}({get exports(){return dj},set exports(t){dj=t}});var pj=dj,vj={};!function(t,e){t.exports=function(t,e,n){var r=function(t,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var n;1===e.length&&e[0].length>0&&(e=e[0]),n=e[0];for(var r=1;r<e.length;r+=1)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n};n.max=function(){var t=[].slice.call(arguments,0);return r("isAfter",t)},n.min=function(){var t=[].slice.call(arguments,0);return r("isBefore",t)}}}({get exports(){return vj},set exports(t){vj=t}});var yj=vj,mj={};!function(t,e){t.exports=function(t,e){e.prototype.isoWeeksInYear=function(){var t=this.isLeapYear(),e=this.endOf("y").day();return 4===e||t&&5===e?53:52}}}({get exports(){return mj},set exports(t){mj=t}});var gj=mj,bj={};!function(t,e){t.exports=function(t,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}({get exports(){return bj},set exports(t){bj=t}});var wj=bj,xj={};!function(t,e){t.exports=function(t,e){var n=e.prototype,r=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return r.bind(this)(t);var i=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return r.bind(this)(o)}}}({get exports(){return xj},set exports(t){xj=t}});var Oj=xj,Sj={};!function(t,e){var n,r,i;t.exports=(n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g,function(t,e,o){var a=e.prototype;o.utc=function(t){return new e({date:t,utc:!0,args:arguments})},a.utc=function(t){var e=o(this.toDate(),{locale:this.$L,utc:!0});return t?e.add(this.utcOffset(),n):e},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),u.call(this,t)};var c=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else c.call(this)};var s=a.utcOffset;a.utcOffset=function(t,e){var o=this.$utils().u;if(o(t))return this.$u?0:o(this.$offset)?s.call(this):this.$offset;if("string"==typeof t&&(t=function(t){void 0===t&&(t="");var e=t.match(r);if(!e)return null;var n=(""+e[0]).match(i)||["-",0,0],o=n[0],a=60*+n[1]+ +n[2];return 0===a?0:"+"===o?a:-a}(t),null===t))return this;var a=Math.abs(t)<=16?60*t:t,u=this;if(e)return u.$offset=a,u.$u=0===t,u;if(0!==t){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(u=this.local().add(a+c,n)).$offset=a,u.$x.$localOffset=c}else u=this.utc();return u};var l=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var f=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var h=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var r=this.local(),i=o(t).local();return h.call(r,i,e,n)}})}({get exports(){return Sj},set exports(t){Sj=t}});var kj=Sj,jj={};!function(t,e){var n,r;t.exports=(n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={},function(t,e,i){var o,a=function(t,e,n){void 0===n&&(n={});var i=new Date(t),o=function(t,e){void 0===e&&(e={});var n=e.timeZoneName||"short",i=t+"|"+n,o=r[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:n}),r[i]=o),o}(e,n);return o.formatToParts(i)},u=function(t,e){for(var r=a(t,e),o=[],u=0;u<r.length;u+=1){var c=r[u],s=c.type,l=c.value,f=n[s];f>=0&&(o[f]=parseInt(l,10))}var h=o[3],d=24===h?0:h,p=o[0]+"-"+o[1]+"-"+o[2]+" "+d+":"+o[4]+":"+o[5]+":000",v=+t;return(i.utc(p).valueOf()-(v-=v%1e3))/6e4},c=e.prototype;c.tz=function(t,e){void 0===t&&(t=o);var n=this.utcOffset(),r=this.toDate(),a=r.toLocaleString("en-US",{timeZone:t}),u=Math.round((r-new Date(a))/1e3/60),c=i(a).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-u,!0);if(e){var s=c.utcOffset();c=c.add(n-s,"minute")}return c.$x.$timezone=t,c},c.offsetName=function(t){var e=this.$x.$timezone||i.tz.guess(),n=a(this.valueOf(),e,{timeZoneName:t}).find((function(t){return"timezonename"===t.type.toLowerCase()}));return n&&n.value};var s=c.startOf;c.startOf=function(t,e){if(!this.$x||!this.$x.$timezone)return s.call(this,t,e);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return s.call(n,t,e).tz(this.$x.$timezone,!0)},i.tz=function(t,e,n){var r=n&&e,a=n||e||o,c=u(+i(),a);if("string"!=typeof t)return i(t).tz(a);var s=function(t,e,n){var r=t-60*e*1e3,i=u(r,n);if(e===i)return[r,e];var o=u(r-=60*(i-e)*1e3,n);return i===o?[r,i]:[t-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(t,r).valueOf(),c,a),l=s[0],f=s[1],h=i(l).utcOffset(f);return h.$x.$timezone=a,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(t){o=t}})}({get exports(){return jj},set exports(t){jj=t}});var _j=jj,Mj={};!function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=function(t){return t&&(t.indexOf?t:t.s)},o=function(t,e,n,r,o){var a=t.name?t:t.$locale(),u=i(a[e]),c=i(a[n]),s=u||c.map((function(t){return t.slice(0,r)}));if(!o)return s;var l=a.weekStart;return s.map((function(t,e){return s[(e+(l||0))%7]}))},a=function(){return n.Ls[n.locale()]},u=function(t,e){return t.formats[e]||function(t){return t.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}(t.formats[e.toUpperCase()])},c=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):o(t,"months")},monthsShort:function(e){return e?e.format("MMM"):o(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):o(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):o(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):o(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return u(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return c.bind(this)()},n.localeData=function(){var t=a();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return u(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return o(a(),"months")},n.monthsShort=function(){return o(a(),"monthsShort","months",3)},n.weekdays=function(t){return o(a(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return o(a(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return o(a(),"weekdaysMin","weekdays",2,t)}}}({get exports(){return Mj},set exports(t){Mj=t}});var Dj=Mj,Ej={};!function(t,e){var n;t.exports=(n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(t,e,r){var i=e.prototype,o=i.format;r.en.formats=n,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,r=function(t,e){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||e[i]||n[i]||e[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))}(t,void 0===e?{}:e);return o.call(this,r)}})}({get exports(){return Ej},set exports(t){Ej=t}});var Lj=Ej,$j={};!function(t,e){t.exports=function(t,e,n){n.updateLocale=function(t,e){var r=n.Ls[t];if(r)return(e?Object.keys(e):[]).forEach((function(t){r[t]=e[t]})),r}}}({get exports(){return $j},set exports(t){$j=t}});var Pj=$j;cj.extend(lj),cj.extend(gj),cj.extend(wj),cj.extend(hj),cj.extend(pj),cj.extend(yj),cj.extend(Oj),cj.extend(kj),cj.extend(_j),cj.extend(Dj),cj.extend(Lj),cj.extend(Pj);var Aj="en",Tj=function(){function t(){var e;a(this,t),this.locale=Aj,this.timezone=cj.tz.guess(),(e=window).dayjs||(e.dayjs=cj)}return c(t,[{key:"setup",value:function(t){var e=t.options;return hh(this,void 0,void 0,i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.timezone=e.date.timezone||cj.tz.guess(),"string"!=typeof(n=e.date.locale)||n===Aj){t.next=11;break}if(t.t0=window["dayjs_locale_".concat(n)],t.t0){t.next=8;break}return t.next=7,this.loadLocale();case 7:t.t0=t.sent;case 8:r=t.t0,cj.locale(n),this.locale=r;case 11:"object"===o(n)&&(n.hasOwnProperty("name")?(cj.locale(n.name,n),this.locale=n):this.locale=cj.updateLocale(Aj,n));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"extend",value:function(t){return cj.extend(t)}},{key:"getMonthWeekNumber",value:function(t){var e=this.date(t),n=e.startOf("day"),r=e.startOf("month").endOf("week");return n<=r?1:Math.ceil(n.diff(r,"weeks",!0))+1}},{key:"date",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return cj.isDayjs(t)?t:cj(t).tz(this.timezone).utcOffset(0).locale(this.locale)}},{key:"format",value:function(t,e){if("function"==typeof e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(void 0,[t].concat(r))}return"string"==typeof e?this.date(t).format(e):null}},{key:"intervals",value:function(t,e,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this.date(e);r="number"==typeof n?o.add(n,t):cj.isDayjs(n)?n:this.date(n),o=o.startOf(t),r=r.startOf(t);var a=cj.min(o,r);r=cj.max(o,r);var u=[];i||(r=r.add(1,"second"));do{u.push(+a),a=a.add(1,t)}while(a<r);return u}},{key:"loadLocale",value:function(){var t=this;return new Promise((function(e,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.jsdelivr.net/npm/dayjs@1/locale/".concat(t.locale,".js"),r.onerror=function(t){n(t)},r.onload=function(){e(window["dayjs_locale_".concat(t.locale)])},document.head.appendChild(r)}))}}]),t}(),Rj=["json","csv","tsv","txt"];function Cj(t,e){var n=e.domain,r=e.subDomain,i=e.data,o=n.type,a=r.type;if(!t.has(o))throw new Error("'".concat(o,"' is not a valid domain type'"));if(!t.has(a))throw new Error("'".concat(a,"' is not a valid subDomain type'"));if(i.type&&!Rj.includes(i.type))throw new Error("The data type '".concat(i.type,"' is not valid data type"));return!0}var Ij=function(){function t(e){a(this,t),this.calendar=e,this.settings=new Map,this.plugins=new Map}return c(t,[{key:"add",value:function(t){var e=this;t.forEach((function(t){var n,r,i=s(t,2),o=i[0],a=i[1],u=o.name;e.plugins.get(u)&&e.settings.get(u)&&sk(e.settings.get(u).options,a)||(e.settings.set(u,{options:a,dirty:!0}),e.plugins.has(u)||e.plugins.set(u,(n=o,r=e.calendar,new n(r))))}))}},{key:"setupAll",value:function(){var t=this;this.plugins.forEach((function(e,n){var r=t.settings.get(n);void 0!==r&&r.dirty&&(e.setup(r.options),r.dirty=!1,t.settings.set(n,r))}))}},{key:"paintAll",value:function(){return Array.from(this.plugins.values()).map((function(t){return t.paint()}))}},{key:"destroyAll",value:function(){return Array.from(this.plugins.values()).map((function(t){return t.destroy()}))}}]),t}(),Nj=[function(t){return{name:"minute",rowsCount:function(){return 10},columnsCount:function(){return 6},mapping:function(e,n){return t.intervals("minute",e,t.date(n)).map((function(t,e){return{t:t,x:Math.floor(e/10),y:e%10}}))},extractUnit:function(e){return t.date(e).startOf("minute").valueOf()}}},function(t,e){var n=e.domain;return{name:"hour",rowsCount:function(){return 6},columnsCount:function(e){switch(n.type){case"week":return 28;case"month":return 4*(n.dynamicDimension?t.date(e).daysInMonth():31);default:return 4}},mapping:function(e,r){return t.intervals("hour",e,t.date(r)).map((function(e){var r=t.date(e),i=r.hour(),o=r.date(),a=Math.floor(i/6);return"month"===n.type&&(a+=4*(o-1)),"week"===n.type&&(a+=4*+r.format("d")),{t:e,x:a,y:Math.floor(i%6)}}))},extractUnit:function(e){return t.date(e).startOf("hour").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"day",rowsCount:function(){return"week"===n.type?1:7},columnsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},mapping:function(e,r){var i=0,o=-1;return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e);switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":i!==r.week()&&(i=r.week(),o+=1);break;case"week":o=r.weekday()}return{t:e,x:o,y:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain,r=e.verticalOrientation;return{name:"x_day",rowsCount:function(e){switch(n.type){case"month":return Math.ceil(n.dynamicDimension&&!r?t.getMonthWeekNumber(t.date(e).endOf("month")):6);case"year":return Math.ceil(n.dynamicDimension?t.date(e).endOf("year").dayOfYear()/7:54);default:return 7}},columnsCount:function(){return"week"===n.type?1:7},mapping:function(e,r){return t.intervals("day",e,t.date(r)).map((function(e){var r=t.date(e),i=r.endOf("year").week(),o=0;switch(n.type){case"month":o=t.getMonthWeekNumber(e)-1;break;case"year":1===i&&r.week()===i&&(o=r.subtract(1,"week").week()+1),o=r.week()-1;break;case"week":o=r.weekday()}return{t:e,y:o,x:"week"===n.type?0:r.weekday()}}))},extractUnit:function(e){return t.date(e).startOf("day").valueOf()}}},function(t,e){var n=e.domain;return{name:"week",rowsCount:function(){return 1},columnsCount:function(e){switch(n.type){case"year":return n.dynamicDimension?t.date(e).endOf("year").isoWeeksInYear():53;case"month":return n.dynamicDimension?t.getMonthWeekNumber(t.date(e).endOf("month")):5;default:return 1}},mapping:function(e,n){return t.intervals("week",e,t.date(n)).map((function(t,e){return{t:t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("week").valueOf()}}},function(t){return{name:"month",rowsCount:function(){return 1},columnsCount:function(){return 12},mapping:function(e,n){return t.intervals("month",e,t.date(n)).map((function(e){return{t:e,x:t.date(e).month(),y:0}}))},extractUnit:function(e){return t.date(e).startOf("month").valueOf()}}},function(t){return{name:"year",rowsCount:function(){return 1},columnsCount:function(){return 1},mapping:function(e,n){return t.intervals("year",e,t.date(n)).map((function(t,e){return{t:t,x:e,y:0}}))},extractUnit:function(e){return t.date(e).startOf("year").valueOf()}}}],zj=function(){function t(e,n){a(this,t),this.settings=new Map,this.dateHelper=e,this.options=n,this.initiated=!1}return c(t,[{key:"get",value:function(t){return this.settings.get(t)}},{key:"has",value:function(t){return this.settings.has(t)}},{key:"init",value:function(){this.initiated||(this.initiated=!0,this.add(Nj))}},{key:"add",value:function(t){var e=this;this.init();var n=[];mh(t).forEach((function(t){var r=t(e.dateHelper,e.options.options);e.settings.set(r.name,r),r.hasOwnProperty("parent")&&n.push(r.name)})),n.forEach((function(t){var n=e.settings.get(e.settings.get(t).parent);n&&e.settings.set(t,Object.assign(Object.assign({},n),e.settings.get(t)))}))}}]),t}(),Yj=function(){function t(){a(this,t),this.options=new mk,this.dateHelper=new Tj,this.templateCollection=new zj(this.dateHelper,this.options),this.dataFetcher=new Xk(this.options),this.navigator=new Op(this),this.populator=new _S(this),this.calendarPainter=new Bx(this),this.eventEmitter=new vh,this.pluginManager=new Ij(this)}return c(t,[{key:"createDomainCollection",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Bb(this.dateHelper,this.options.options.domain.type,t,e,n)}},{key:"paint",value:function(t,e){return hh(this,void 0,void 0,i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.options.init(t),n.next=3,this.dateHelper.setup(this.options);case 3:this.templateCollection.init(),n.prev=4,Cj(this.templateCollection,this.options.options),n.next=11;break;case 8:return n.prev=8,n.t0=n.catch(4),n.abrupt("return",Promise.reject(n.t0));case 11:return e&&this.pluginManager.add(mh(e)),this.calendarPainter.setup(),this.domainCollection=new Bb(this.dateHelper),this.navigator.loadNewDomains(this.createDomainCollection(this.options.options.date.start,this.options.options.range)),n.abrupt("return",Promise.allSettled([this.calendarPainter.paint(),this.fill()]));case 16:case"end":return n.stop()}}),n,this,[[4,8]])})))}},{key:"addTemplates",value:function(t){this.templateCollection.add(t)}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.max,t+1).slice(t),yp.SCROLL_FORWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"previous",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this.navigator.loadNewDomains(this.createDomainCollection(this.domainCollection.min,-t),yp.SCROLL_BACKWARD);return Promise.allSettled([this.calendarPainter.paint(e),this.fill()])}},{key:"jumpTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.allSettled([this.calendarPainter.paint(this.navigator.jumpTo(t,e)),this.fill()])}},{key:"fill",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.options.data.source,n=this.options.options,r=this.templateCollection,i=this.dateHelper.intervals(n.domain.type,this.domainCollection.max,2)[1],o=this.dataFetcher.getDatas(e,this.domainCollection.min,i);return new Promise((function(e,i){o.then((function(i){t.domainCollection.fill(i,n.data,r.get(n.domain.type).extractUnit,r.get(n.subDomain.type).extractUnit),t.populator.populate(),e(null)}),(function(t){i(t)}))}))}},{key:"on",value:function(t,e){this.eventEmitter.on(t,e)}},{key:"dimensions",value:function(){return this.calendarPainter.dimensions}},{key:"destroy",value:function(){return this.calendarPainter.destroy()}},{key:"extendDayjs",value:function(t){return this.dateHelper.extend(t)}}]),t}();return Yj.VERSION="4.0.0-beta.6",Yj}));//# sourceMappingURL=cal-heatmap.min.js.map
