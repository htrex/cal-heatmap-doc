"use strict";(self.webpackChunkcal_heatmap_doc=self.webpackChunkcal_heatmap_doc||[]).push([[3543],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,s=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),d=p(n),u=l,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||r;return n?a.createElement(h,o(o({ref:t},c),{},{components:n})):a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,o=new Array(r);o[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[d]="string"==typeof e?e:l,o[1]=i;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},1007:(e,t,n)=>{n.d(t,{Z:()=>u});var a=n(7294),l=n(6010);const r="browserWindow_my1Q",o="browserWindowHeader_jXSR",i="buttons_uHc7",s="browserWindowAddressBar_Pd8y",p="dot_giz1",c="browserWindowMenuIcon_Vhuh",d="bar_rrRL",m="browserWindowBody_Idgs";function u(e){let{children:t,minHeight:n,url:u="http://localhost:3000"}=e;return a.createElement("div",{className:r,style:{minHeight:n}},a.createElement("div",{className:o},a.createElement("div",{className:i},a.createElement("span",{className:p,style:{background:"#f25f58"}}),a.createElement("span",{className:p,style:{background:"#fbbe3c"}}),a.createElement("span",{className:p,style:{background:"#58cb42"}})),a.createElement("div",{className:(0,l.Z)(s,"text--truncate")},u),a.createElement("div",{className:c},a.createElement("div",null,a.createElement("span",{className:d}),a.createElement("span",{className:d}),a.createElement("span",{className:d})))),a.createElement("div",{className:m},t))}},2247:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=n(7462),l=(n(7294),n(3905)),r=n(1007);const o={title:"scale",sidebar_position:47},i="scale",s={unversionedId:"options/scale",id:"options/scale",title:"scale",description:"Control how your data are represented on the heatmap",source:"@site/docs/options/scale.md",sourceDirName:"options",slug:"/options/scale",permalink:"/docs/options/scale",draft:!1,editUrl:"https://github.com/wa0x6e/cal-heatmap-doc/edit/main/docs/options/scale.md",tags:[],version:"current",sidebarPosition:47,frontMatter:{title:"scale",sidebar_position:47},sidebar:"tutorialSidebar",previous:{title:"verticalOrientation",permalink:"/docs/options/verticalOrientation"},next:{title:"theme",permalink:"/docs/options/theme"}},p={},c=[{value:"<code>color</code>",id:"color",level:2},{value:"<code>scheme</code>",id:"scheme",level:3},{value:"Playground",id:"playground",level:4},{value:"<code>range</code>",id:"range",level:3},{value:"<code>interpolate</code>",id:"interpolate",level:3},{value:"Playground",id:"playground-1",level:4},{value:"<code>domain</code>",id:"domain",level:3},{value:"<code>type</code>",id:"type",level:3},{value:"<code>opacity</code>",id:"opacity",level:2},{value:"<code>baseColor</code>",id:"basecolor",level:3},{value:"<code>domain</code>",id:"domain-1",level:3},{value:"<code>type</code>",id:"type-1",level:3},{value:"Playground",id:"playground-2",level:4}],d={toc:c};function m(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"scale"},"scale"),(0,l.kt)("p",{className:"subhead"},"Control how your data are represented on the heatmap"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"type scaleOptions = {\n  opacity?: {\n    baseColor: string,\n    domain: number[],\n    type: string,\n  },\n  color?: {\n    scheme: string,\n    range: string[] | d3-scale-chromatic,\n    interpolate: string | d3-interpolator,\n    domain: number[],\n    type: string,\n  },\n};\n")),(0,l.kt)("p",null,"Your dataset can be represented either with a range of different colors, or with a single color with different opacity."),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"color")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"opacity")," are mutually exclusive, you should only use one.")),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"domain")," is always required")),(0,l.kt)("hr",null),(0,l.kt)("h2",{id:"color"},(0,l.kt)("inlineCode",{parentName:"h2"},"color")),(0,l.kt)("p",null,"Use 2 or more colors to represent your dataset. Depending on the ",(0,l.kt)("a",{parentName:"p",href:"#type"},(0,l.kt)("inlineCode",{parentName:"a"},"type")),", it will use a continuous range of colors, or a discret set."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"color: {\n  scheme: string,\n  range: string[] | d3-scale-chromatic-scheme,\n  interpolate: string | d3-interpolator,\n  domain: number[],\n  type: string,\n},\n")),(0,l.kt)("h3",{id:"scheme"},(0,l.kt)("inlineCode",{parentName:"h3"},"scheme")),(0,l.kt)("p",null,"Use a predefined color scheme name from ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/d3/d3-scale-chromatic"},"d3-scale-chromatic"),"."),(0,l.kt)("p",null,"This is the easiest way to bind color to your dataset, using predefined color palette and interpolator"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},'scheme: string, // scheme name from d3-chromatic-scale, e.g. "Purple", "RdYlGn"\n')),(0,l.kt)("h4",{id:"playground"},"Playground"),(0,l.kt)(r.Z,{mdxType:"BrowserWindow"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live noInline",live:!0,noInline:!0},"const cal = new CalHeatmap();\ncal.paint({\n  range: 1,\n  domain: { type: 'year', label: { text: null } },\n  subDomain: { type: 'day' },\n  data: {\n    source: '/fixtures/seattle-weather.csv',\n    type: 'csv',\n    x: 'date',\n    y: 'temp_max',\n    groupY: 'max',\n  },\n  date: { start: new Date('2012-01-01') },\n  scale: {\n    color: {\n      // Try some values: Purple, Blues, Turbo, Magma, etc ...\n      scheme: 'Cool',\n      type: 'linear',\n      domain: [0, 30],\n    },\n  },\n});\n\nrender(<div id=\"cal-heatmap\"></div>);\n"))),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},"You can see a more visual list of predefined color scheme ",(0,l.kt)("a",{parentName:"p",href:"https://observablehq.com/@d3/color-schemes"},"here"))),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("a",{parentName:"p",href:"#scheme"},(0,l.kt)("inlineCode",{parentName:"a"},"scheme"))," is mutually exclusive with ",(0,l.kt)("a",{parentName:"p",href:"#range"},(0,l.kt)("inlineCode",{parentName:"a"},"range")),", which will take precedence if set.")),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"See ",(0,l.kt)("a",{parentName:"p",href:"#range"},(0,l.kt)("inlineCode",{parentName:"a"},"range"))," if you want to use your own color palette.")),(0,l.kt)("h3",{id:"range"},(0,l.kt)("inlineCode",{parentName:"h3"},"range")),(0,l.kt)("p",null,"Define your own color palette"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"range: string[] | d3-scale-chromatic-scheme\n")),(0,l.kt)("p",null,"Accepts an array of colors, or a ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/d3/d3-scale-chromatic"},"d3 color scheme function"),"."),(0,l.kt)("p",null,"When using an array of colors, it expects a minimum of 2 colors."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Using an array of colors"',title:'"Using',an:!0,array:!0,of:!0,'colors"':!0},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      // highlight-next-line\n      range: ['red', '#0000FF'],\n    },\n  },\n});\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Using an d3 color scheme function"',title:'"Using',an:!0,d3:!0,color:!0,scheme:!0,'function"':!0},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      // highlight-next-line\n      range: d3.schemeSpectral[3],\n    },\n  },\n});\n")),(0,l.kt)("h3",{id:"interpolate"},(0,l.kt)("inlineCode",{parentName:"h3"},"interpolate")),(0,l.kt)("p",null,"Used in conjuction with ",(0,l.kt)("inlineCode",{parentName:"p"},"range"),", define how to interpolate the color range."),(0,l.kt)("p",null,"The following color interpolators are supported:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"rgb")," - RGB (red, green, blue)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hsl")," - HSL (hue, saturation, lightness)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"lab")," - CIELAB (a.k.a. \u201cLab\u201d)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"hcl")," - CIELChab (a.k.a. \u201cLCh\u201d or \u201cHCL\u201d)")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      range: ['red', 'green', 'blue'],\n      // highlight-next-line\n      interpolate: 'hcl',\n    },\n  },\n});\n")),(0,l.kt)("p",null,"Or you can also use a ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/d3/d3-interpolate/blob/main/README.md#color-spaces"},"d3.interpolator")," directly"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      range: ['red', 'blue'],\n      // highlight-next-line\n      interpolate: d3.interpolateRgb.gamma(2.2),\n    },\n  },\n});\n")),(0,l.kt)("h4",{id:"playground-1"},"Playground"),(0,l.kt)(r.Z,{mdxType:"BrowserWindow"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live noInline",live:!0,noInline:!0},"const cal = new CalHeatmap();\ncal.paint({\n  itemSelector: '#scale-color',\n  range: 1,\n  domain: { type: 'year', label: { text: null } },\n  subDomain: { type: 'day' },\n  data: {\n    source: '/fixtures/seattle-weather.csv',\n    type: 'csv',\n    x: 'date',\n    y: 'temp_max',\n    groupY: 'max',\n  },\n  date: { start: new Date('2012-01-01') },\n  scale: {\n    color: {\n      range: ['yellow', 'red'],\n      interpolate: 'hsl',\n      type: 'linear',\n      domain: [0, 30],\n    },\n  },\n});\n\nrender(<div id=\"scale-color\"></div>);\n"))),(0,l.kt)("h3",{id:"domain"},(0,l.kt)("inlineCode",{parentName:"h3"},"domain")),(0,l.kt)("p",null,"An array of at least 2 values, specifying the ",(0,l.kt)("em",{parentName:"p"},"minimum")," and ",(0,l.kt)("em",{parentName:"p"},"maximum")," value of your dataset."),(0,l.kt)("p",null,"When using the ",(0,l.kt)("inlineCode",{parentName:"p"},"threshold"),"'s type, domain should be a list of different threshold"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"domain: number[],\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Linear type, only min/max are required"',title:'"Linear',"type,":!0,only:!0,"min/max":!0,are:!0,'required"':!0},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      // highlight-next-line\n      domain: [-5, 25],\n    },\n  },\n});\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Threshold type"',title:'"Threshold','type"':!0},"const cal = new CalHeatmap();\ncal.paint({\n  scale: {\n    color: {\n      range: ['red', 'blue'],\n      // highlight-next-line\n      domain: [0, 10, 20, 30, 40, 50],\n      // With n the number of values:\n      // This will generate a scale of 5 (n-1) colors, between red and blue\n      // Use the interpolator to control how the colors are generated,\n      // or you can also use a range with n-1 colors\n    },\n  },\n});\n")),(0,l.kt)("h3",{id:"type"},(0,l.kt)("inlineCode",{parentName:"h3"},"type")),(0,l.kt)("p",null,"The scale type used to encode colors"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"type: string,\n")),(0,l.kt)("p",null,"The following types are supported"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ordinal")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"linear")," (default) - linear transform (translate and scale)-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"pow")," - power (exponential) transform-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"sqrt")," - square-root transform (pow transform with exponent = 0.5)-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"log")," - logarithmic transform-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"symlog")," - bi-symmetric logarithmic transform per Webber et al.-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"categorical")," - equivalent to ordinal, but defaults to the tableau10 scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"sequential")," - equivalent to linear-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cyclical")," - equivalent to linear, but defaults to the rainbow scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"threshold")," - encodes based on the specified discrete thresholds; defaults to the rdylbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"quantile")," - encodes based on the computed quantile thresholds; defaults to the rdylbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"quantize")," - transforms a continuous domain into quantized thresholds; defaults to the rdylbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"diverging")," - like linear, but with a pivot; defaults to the rdbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"diverging-log")," - like log, but with a pivot that defaults to 1; defaults to the rdbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"diverging-pow")," - like pow, but with a pivot; defaults to the rdbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"diverging-sqrt")," - like sqrt, but with a pivot; defaults to the rdbu scheme-"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"diverging-symlog")," - like symlog, but with a pivot; defaults to the rdbu scheme")),(0,l.kt)("admonition",{type:"info"},(0,l.kt)("p",{parentName:"admonition"},"Most use cases will use only the 4 most common types:"),(0,l.kt)("ul",{parentName:"admonition"},(0,l.kt)("li",{parentName:"ul"},"quantize"),(0,l.kt)("li",{parentName:"ul"},"linear"),(0,l.kt)("li",{parentName:"ul"},"categorical"),(0,l.kt)("li",{parentName:"ul"},"diverging"))),(0,l.kt)("h2",{id:"opacity"},(0,l.kt)("inlineCode",{parentName:"h2"},"opacity")),(0,l.kt)("p",null,"Use the difference in opacity to represent your dataset, using a single color."),(0,l.kt)("admonition",{type:"tip"},(0,l.kt)("p",{parentName:"admonition"},(0,l.kt)("inlineCode",{parentName:"p"},"opacity")," is best used when you have a dynamic background color, such as light/dark mode."),(0,l.kt)("p",{parentName:"admonition"},"See the ",(0,l.kt)("a",{parentName:"p",href:"/docs/showcase#seattle-daily-average-precipitation"},"daily precipitation example"))),(0,l.kt)("h3",{id:"basecolor"},(0,l.kt)("inlineCode",{parentName:"h3"},"baseColor")),(0,l.kt)("p",null,"The base color"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"baseColor: string,\n")),(0,l.kt)("p",null,"Accepts a color name (",(0,l.kt)("inlineCode",{parentName:"p"},"red"),"), a hexadecimal color code (",(0,l.kt)("inlineCode",{parentName:"p"},"#ff0000"),"), or rgb (",(0,l.kt)("inlineCode",{parentName:"p"},"rgb(0, 0, 255)"),")."),(0,l.kt)("h3",{id:"domain-1"},(0,l.kt)("inlineCode",{parentName:"h3"},"domain")),(0,l.kt)("p",null,"Same as ",(0,l.kt)("a",{parentName:"p",href:"#domain"},(0,l.kt)("inlineCode",{parentName:"a"},"color.domain"))),(0,l.kt)("h3",{id:"type-1"},(0,l.kt)("inlineCode",{parentName:"h3"},"type")),(0,l.kt)("p",null,"Same as ",(0,l.kt)("a",{parentName:"p",href:"#type"},(0,l.kt)("inlineCode",{parentName:"a"},"color.type"))),(0,l.kt)("h4",{id:"playground-2"},"Playground"),(0,l.kt)(r.Z,{mdxType:"BrowserWindow"},(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live noInline",live:!0,noInline:!0},"const cal = new CalHeatmap();\ncal.paint({\n  itemSelector: '#scale-opacity',\n  range: 1,\n  domain: { type: 'year', label: { text: null } },\n  subDomain: { type: 'day' },\n  data: {\n    source: '/fixtures/seattle-weather.csv',\n    type: 'csv',\n    x: 'date',\n    y: 'temp_max',\n    groupY: 'max',\n  },\n  date: { start: new Date('2012-01-01') },\n  scale: {\n    opacity: {\n      baseColor: '#71b747',\n      type: 'linear',\n      domain: [0, 30],\n    },\n  },\n});\n\nrender(<div id=\"scale-opacity\"></div>);\n"))),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"Cal-Heatmap is using ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/observablehq/plot/tree/977e0118dad0f05158dbc3c0cab5f92047f449fd#color-options"},"Plot")," as the underlying library to handle the color scale.\nTake a look at their documentation for more advanced uses."),(0,l.kt)("p",{parentName:"admonition"},"Some part of the scale documentation are extracted from their own documentation.")))}m.isMDXComponent=!0}}]);